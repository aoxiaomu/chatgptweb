{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.unshift.js\";\nimport PersonCard from \"@/components/PersonCard.vue\";\nimport Session from \"@/components/Session.vue\";\nimport File from \"@/components/File.vue\";\nimport ChatWindow from \"./chatwindow.vue\";\nimport { AI_HEAD_IMG_URL } from '@/store/mutation-types';\nimport { getModels, getMoneyInfo, getFineTunesList, getFilesList, uploadFile, createFineTune, cancelFineTune, deleteFineTuneModel, retrieveFineTune, deleteFile, retrieveFile, retrieveFileContent } from \"@/api/getData\";\nimport { saveAs } from 'file-saver';\nimport { getNowTime, JCMFormatDate, JCMFormatTimestamp } from \"@/util/util\";\nconst {\n  Configuration,\n  OpenAIApi\n} = require(\"openai\");\nexport default {\n  name: \"App\",\n  components: {\n    PersonCard,\n    ChatWindow,\n    Session,\n    File\n  },\n  data() {\n    return {\n      fileSearch: \"\",\n      sessionSearch: \"\",\n      showFineSetting: false,\n      cancelFineStatus: true,\n      storeStatus: 0,\n      //宽度\n      defaulWidth: 70,\n      //0是聊天设置，1是图片设置\n      SettingStatus: 0,\n      //0是模型列表，1是会话列表\n      cutSetting: 1,\n      //余额信息\n      moneryInfo: {\n        totalGranted: 0,\n        totalUsed: 0,\n        totalAvailable: 0\n      },\n      batch_sizeStr: \"\",\n      //全部的设置参数\n      SettingInfo: {\n        readefile: false,\n        inputStatus: true,\n        translateEnglish: false,\n        openProductionPicture: false,\n        openChangePicture: false,\n        KeyMsg: process.env.VUE_APP_OPENAI_API_KEY,\n        MaxTokens: 1000,\n        Temperature: 1,\n        TemperatureAudio: 0,\n        TopP: 1,\n        FrequencyPenalty: 0,\n        PresencePenalty: 0,\n        n: 1,\n        size: \"256x256\",\n        language: \"zh\",\n        contentImageUrl: \"\",\n        fineTunes: {\n          training_file: \"\",\n          validation_file: \"\",\n          batch_size: \"\",\n          model: \"curie\",\n          n_epochs: 4,\n          prompt_loss_weight: 0.01,\n          compute_classification_metrics: false,\n          suffix: \"\"\n        }\n      },\n      //当前点击的文件\n      fiCurrent: \"\",\n      //当前点击的模型\n      pcCurrent: \"\",\n      //当前点击的会话\n      sessionCurrent: \"\",\n      //当前点击的微调模型\n      ftCurrent: \"\",\n      //微调搜索数据\n      fineTuningSearch: \"\",\n      //模型搜索数据\n      modelSearch: \"\",\n      //文件列表\n      fileList: [],\n      //文件缓存列表\n      fineTuningSearch: [],\n      //微调模型列表\n      fineTuningList: [],\n      //微调模型缓存列表\n      fineTuningCacheList: [],\n      //模型列表\n      personList: [],\n      //会话列表\n      sessionList: [],\n      //模型列表缓存\n      personListCache: [],\n      //是否显示聊天窗口\n      showChatWindow: true,\n      //当前窗口的对话模型信息\n      chatWindowInfo: {},\n      //图片大小参数列表\n      imgSizes: [{\n        value: '256x256'\n      }, {\n        value: '512x512'\n      }, {\n        value: '1024x1024'\n      }],\n      //语音定义的参数\n      languages: [{\n        value: 'zh'\n      }, {\n        value: 'en'\n      }, {\n        value: 'fr'\n      }, {\n        value: 'de'\n      }, {\n        value: 'ja'\n      }],\n      // 是否隐藏模型列表和功能设置选择列表\n      showPersonList: true,\n      showSetupList: true\n    };\n  },\n  created() {\n    window.addEventListener('resize', this.handleResize);\n    this.handleResize();\n  },\n  destoryed() {\n    window.removeEventListener('resize', this.handleResize);\n  },\n  mounted() {\n    this.chatWindowInfo = {\n      img: \"\",\n      name: \"ChatGPT-3.5\",\n      detail: \"chatgpt v3.5 所基于的模型\",\n      lastMsg: \"chatgpt v3.5 所基于的模型\",\n      id: \"gpt-3.5-turbo\",\n      headImg: AI_HEAD_IMG_URL,\n      showHeadImg: true\n    };\n    if (this.SettingInfo.KeyMsg) {\n      this.getModelList(this.SettingInfo.KeyMsg);\n    }\n    // 在Vue实例中添加监听函数\n    this.$watch('SettingInfo.KeyMsg', this.watchKeyMsg);\n    this.$watch('SettingInfo.contentImageUrl', this.watchContentImageUrl);\n    this.$watch('modelSearch', this.watchModelSearch);\n    this.$watch('fineTuningSearch', this.watchFineTuningSearch);\n    this.$watch('fileSearch', this.watchFileSearch);\n  },\n  filters: {\n    //截取数据到小数点后几位\n    numFilterReserved(value, digit) {\n      return parseFloat(value).toFixed(digit);\n    }\n  },\n  watch: {\n    SettingInfo: {\n      handler: function (newVal, oldVal) {\n        if (newVal.openChangePicture) {\n          this.SettingInfo.openProductionPicture = false;\n        }\n        if (newVal.openProductionPicture) {\n          this.SettingInfo.openChangePicture = false;\n        }\n        if (newVal.fineTunes.batch_size) {\n          this.SettingInfo.fineTunes.batch_size = parseInt(newVal.fineTunes.batch_size);\n        }\n        if (newVal.fineTunes.learning_rate_multiplier) {\n          this.SettingInfo.fineTunes.learning_rate_multiplier = parseInt(newVal.fineTunes.learning_rate_multiplier);\n        }\n        if (newVal.fineTunes.classification_n_classes) {\n          this.SettingInfo.fineTunes.classification_n_classes = parseInt(newVal.fineTunes.classification_n_classes);\n        }\n        if (newVal.fineTunes.classification_positive_class) {\n          this.SettingInfo.fineTunes.classification_positive_class = parseInt(newVal.fineTunes.classification_positive_class);\n        }\n        if (newVal.fineTunes.classification_betas) {\n          this.SettingInfo.fineTunes.classification_betas = newVal.fineTunes.classification_betas.split(\",\").map(str => parseInt(str));\n        }\n      },\n      deep: true\n    }\n  },\n  methods: {\n    // 监听contentImageUrl属性的变化\n    watchContentImageUrl: function (newVal, oldVal) {\n      if (newVal) {\n        this.$refs.chatWindow.updateContentImageUrl(newVal);\n      } else {\n        this.$refs.chatWindow.updateContentImageUrl(\"https://bpic.51yuansu.com/backgd/cover/00/31/39/5bc8088deeedd.jpg?x-oss-process=image/resize,w_780\");\n      }\n    },\n    //监听fineTuningSearch属性的变化\n    watchFineTuningSearch: function (newVal, oldVal) {\n      if (this.fineTuningList.length !== 0) {\n        if (!this.cancelFineStatus) {\n          this.fineTuningList = this.fineTuningCacheList.filter(fineTunin => fineTunin.fineTunesStatus === \"succeeded\").filter(fineTuning => fineTuning.id.includes(newVal));\n        } else {\n          this.fineTuningList = this.fineTuningCacheList.filter(fineTuning => fineTuning.id.includes(newVal));\n        }\n      }\n      if (newVal == \"\") {\n        if (!this.cancelFineStatus) {\n          this.fineTuningList = this.fineTuningCacheList.filter(fineTunin => fineTunin.fineTunesStatus === \"succeeded\");\n        } else {\n          this.fineTuningList = this.fineTuningCacheList;\n        }\n      }\n    },\n    //监听fileSearch属性的变化\n    watchFileSearch: function (newVal, oldVal) {\n      if (this.fileList.length !== 0) {\n        this.fileList = this.fileCacheList.filter(fileList => fileList.id.includes(newVal));\n      }\n      if (newVal == \"\") {\n        this.fileList = this.fileCacheList;\n      }\n    },\n    // 监听modelSearch属性的变化\n    watchModelSearch: function (newVal, oldVal) {\n      if (this.personList.length !== 0) {\n        this.personList = this.personListCache.filter(person => person.id.includes(newVal));\n      }\n      if (newVal == \"\") {\n        this.personList = this.personListCache;\n      }\n    },\n    // 监听KeyMsg属性的变化\n    watchKeyMsg: function (newVal, oldVal) {\n      //获取模型列表\n      getModels(newVal).then(res => {\n        //保存OpenAI key到session中\n        this.personList = res;\n        this.personListCache = res;\n        //获取余额信息\n        getMoneyInfo(newVal).then(res => {\n          this.moneryInfo.totalGranted = res.total_granted;\n          this.moneryInfo.totalUsed = res.total_used;\n          this.moneryInfo.totalAvailable = res.total_available;\n        });\n      }).catch(e => {\n        this.$message({\n          message: \"获取模型列表失败哦~\",\n          type: \"error\"\n        });\n      });\n    },\n    //显示或者隐藏取消过的微调模型\n    showOrHidenCancelFine(status) {\n      this.cancelFineStatus = status;\n      if (this.cancelFineStatus == true) {\n        this.fineTuningList = this.fineTuningCacheList;\n      } else {\n        this.fineTuningList = this.fineTuningCacheList.filter(fineTunin => fineTunin.fineTunesStatus === \"succeeded\");\n      }\n    },\n    //导入会话列表触发的方法\n    importFromJsonArrAll() {\n      this.$refs.onupdateJosnArrAll.click(); // 触发选择文件的弹框\n    },\n\n    handleFileUploadAll(event) {\n      const file = event.target.files[0];\n      const reader = new FileReader();\n      reader.onload = () => {\n        const fileContent = reader.result; // 文件内容\n        const parsed = JSON.parse(fileContent); // 转换为数组\n        this.sessionList = parsed;\n      };\n      reader.readAsText(file);\n    },\n    //导入当前内容json触发的方法\n    importFromJsonArr() {\n      this.$refs.onupdateJosnArr.click(); // 触发选择文件的弹框\n    },\n\n    handleFileUpload(event) {\n      const file = event.target.files[0];\n      const reader = new FileReader();\n      reader.onload = () => {\n        const fileContent = reader.result; // 文件内容\n        const parsed = JSON.parse(fileContent); // 转换为数组\n        this.$refs.chatWindow.assignmentMesList(parsed);\n      };\n      reader.readAsText(file);\n    },\n    //导出所有会话到json文件\n    exportObjArrAllToJson() {\n      let jsonString = JSON.stringify(this.sessionList); // 将数组转为JSON字符串\n      let blob = new Blob([jsonString], {\n        type: \"application/json;charset=utf-8\"\n      });\n      saveAs(blob, \"data.json\");\n    },\n    //导出当前会话到json文件\n    exportObjArrToJson() {\n      const mesList = this.$refs.chatWindow.getMesList();\n      let jsonString = JSON.stringify(mesList); // 将数组转为JSON字符串\n      let blob = new Blob([jsonString], {\n        type: \"application/json;charset=utf-8\"\n      });\n      saveAs(blob, \"data.json\");\n    },\n    //清除所有的会话内容\n    clearAllContext() {\n      this.sessionList = [];\n    },\n    //清除当前会话内容\n    clearCurrentContext() {\n      this.$refs.chatWindow.clearMsgList();\n    },\n    // 点击切换显示状态\n    toggleLeft() {\n      console.log(\"left clicked\");\n      this.showPersonList = !this.showPersonList;\n    },\n    toggleRight() {\n      console.log(\"right clicked\");\n      this.showSetupList = !this.showSetupList;\n    },\n    //获取模型列表\n    getModelList(key) {\n      getModels(key).then(modelsRes => {\n        // 提取fineTunesRes集合中所有id属性值\n        getFineTunesList(key).then(fineTunesRes => {\n          const fineTunesIds = fineTunesRes.map(item => item.id);\n          const models = modelsRes.filter(item => !fineTunesIds.includes(item.id));\n          this.personList = models;\n          this.personListCache = models;\n        });\n        this.updateMoneyInfo();\n      }).catch(e => {\n        this.$message({\n          message: \"获取模型列表失败哦~\",\n          type: \"error\"\n        });\n      });\n    },\n    //获取微调模型列表\n    getFineTunessList(key) {\n      getFineTunesList(key).then(res => {\n        this.fineTuningList = res;\n        this.fineTuningCacheList = res;\n      }).catch(e => {\n        this.$message({\n          message: \"获取微调列表失败哦~\",\n          type: \"error\"\n        });\n      });\n    },\n    //获取文件列表\n    getFilessList(key) {\n      getFilesList(key).then(res => {\n        this.fileList = res;\n        this.fileCacheList = res;\n      }).catch(e => {\n        this.$message({\n          message: \"获取文件列表失败哦~\",\n          type: \"error\"\n        });\n      });\n    },\n    //监听窗口尺寸的变化\n    handleResize() {\n      if (window.innerWidth <= 1150) {\n        this.showPersonList = false;\n        this.showSetupList = false;\n        this.showChatWindow = true;\n        const info = {\n          img: \"\",\n          name: \"ChatGPT-3.5\",\n          detail: \"chatgpt v3.5 所基于的模型\",\n          lastMsg: \"chatgpt v3.5 所基于的模型\",\n          id: \"gpt-3.5-turbo\",\n          headImg: AI_HEAD_IMG_URL,\n          showHeadImg: true\n        };\n        this.chatWindowInfo = info;\n        this.personInfo = info;\n      } else {\n        this.showPersonList = true;\n        this.showSetupList = true;\n      }\n      ;\n    },\n    // 更新当前余额\n    updateMoneyInfo() {\n      getMoneyInfo(this.SettingInfo.KeyMsg).then(res => {\n        this.$nextTick(() => {\n          this.moneryInfo.totalGranted = res.total_granted;\n          this.moneryInfo.totalUsed = res.total_used;\n          this.moneryInfo.totalAvailable = res.total_available;\n        });\n      });\n    },\n    //创建会话\n    newSession() {\n      //获取当前会话长度\n      const currentLen = this.sessionList.length + 1;\n      //定义对象\n      const obj = {\n        \"id\": currentLen,\n        \"title\": \"\",\n        \"dataList\": []\n      };\n      //先获取对话的列表\n      const msgList = this.$refs.chatWindow.getMesList();\n      if (msgList.length >= 2) {\n        if (this.sessionCurrent) {\n          this.sessionCurrent = \"\";\n          //清除当前窗口数据\n          this.$refs.chatWindow.clearMsgList();\n        } else {\n          obj.title = msgList[0].msg;\n          obj.dataList = msgList;\n          let tempSessionList = this.sessionList;\n          tempSessionList.push(obj);\n          this.sessionList = tempSessionList.reverse();\n          this.sessionCurrent = \"\";\n          //清除当前窗口数据\n          this.$refs.chatWindow.clearMsgList();\n        }\n      } else if (msgList.length = 1) {\n        //清除当前窗口数据\n        this.$refs.chatWindow.clearMsgList();\n      }\n    },\n    //模型列表被点击\n    modelClick() {\n      this.clearCurrent();\n      this.getModelList(this.SettingInfo.KeyMsg);\n      //清除被点击的微调对象\n      this.fineTuningInfo = {};\n      this.SettingStatus = 0;\n      this.cutSetting = 0;\n      // this.showChatWindow = false;\n    },\n\n    //会话列表被点击\n    sessionClick() {\n      //清除当前点击的状态\n      this.clearCurrent();\n      this.SettingStatus = 5;\n      this.cutSetting = 1;\n      this.chatWindowInfo = {\n        img: \"\",\n        name: \"ChatGPT-3.5\",\n        detail: \"chatgpt v3.5 所基于的模型\",\n        lastMsg: \"chatgpt v3.5 所基于的模型\",\n        id: \"gpt-3.5-turbo\",\n        headImg: AI_HEAD_IMG_URL,\n        showHeadImg: true\n      };\n      // this.showChatWindow = true;\n    },\n\n    //微调模型列表被点击\n    fineTuningClick() {\n      this.clearCurrent();\n      this.SettingStatus = 3;\n      this.cutSetting = 2;\n      // this.showChatWindow = false;\n      //获取微调模型列表\n      this.getFineTunessList(this.SettingInfo.KeyMsg);\n    },\n    clearCurrent() {\n      //清除当前选择的模型微调模型\n      this.ftCurrent = \"\";\n      //清除当前选择的模型\n      this.pcCurrent = \"\";\n      //清除当前选择的会话\n      this.sessionCurrent = \"\";\n      //清除当前选择的文件\n      this.fiCurrent = \"\";\n    },\n    //文件列表被点击\n    fileClick() {\n      this.clearCurrent();\n      //清除被点击的微调对象\n      this.fineTuningInfo = {};\n      this.SettingStatus = 4;\n      this.cutSetting = 3;\n      //获取微调模型列表\n      this.getFilessList(this.SettingInfo.KeyMsg);\n    },\n    //上传文件按钮被点击触发的方法\n    uploadFile() {\n      this.$refs.fileInput.click();\n    },\n    //文件上传触发的方法\n    onFileChange(e) {\n      //获取文件\n      const file = e.target.files[0];\n      // 验证文件类型是否为jsonl格式\n      if (!file.name.endsWith('.jsonl')) {\n        this.$message({\n          message: \"请上传一个有效的JSONL文件~\",\n          type: \"warning\"\n        });\n        return;\n      }\n      // 通过验证后，上传文件\n      const formData = new FormData();\n      formData.append(\"file\", file);\n      formData.append(\"purpose\", \"fine-tune\");\n      uploadFile(formData, this.SettingInfo.KeyMsg).then(res => {\n        this.$copy(res.id, \"文件已上传成功,文件ID是\" + res.id + \",已经帮您复制啦~\");\n        //更新文件列表\n        this.getFilessList(this.SettingInfo.KeyMsg);\n      });\n    },\n    //检索文件信息\n    retrieveOnFile() {\n      if (!this.fileInfo || !this.fileInfo.fileId) {\n        this.$message.error(\"只能检索文件哦~\");\n      } else {\n        retrieveFile(this.fileInfo.fileId, this.SettingInfo.KeyMsg).then(res => {\n          let context = \"`文件ID:`\" + res.id + \"  \\n\" + \"`文件名称:`\" + res.filename + \"  \\n\" + \"`文件大小:`\" + (res.bytes / 1024 / 1024).toFixed(2) + \"MB \\n\" + \"`对象:`\" + res.object + \"  \\n\" + \"`状态:`\" + res.status + \"  \\n\" + \"`状态描述`\" + res.status_details + \"  \\n\" + \"`目的` \" + res.purpose + \" \\n\" + \"`文件创建时间`\" + JCMFormatTimestamp(res.created_at);\n          let retrieveFineTuneMsg = {\n            headImg: AI_HEAD_IMG_URL,\n            name: res.filename,\n            time: JCMFormatDate(getNowTime()),\n            msg: context,\n            chatType: 0,\n            uid: res.id\n          };\n          this.$refs.chatWindow.sendMsg(retrieveFineTuneMsg);\n          console.log(res);\n        }).catch(e => {\n          this.$message.error(\"文件检索失败了~\");\n        });\n      }\n    },\n    //检索文件内容\n    async retrieveOnFileContent() {\n      if (!this.fileInfo || !this.fileInfo.fileId) {\n        this.$message.error(\"只能检索文件内容哦~\");\n      } else {\n        try {\n          const configuration = new Configuration({\n            apiKey: this.SettingInfo.KeyMsg\n          });\n          const openai = new OpenAIApi(configuration);\n          const response = await openai.downloadFile(this.fileInfo.fileId);\n        } catch (e) {\n          this.$message.error(\"OpenAI为了减少滥用，免费帐户将无法下载微调训练的文件~\");\n        }\n      }\n    },\n    //模型被点击\n    clickPerson(info) {\n      this.storeStatus = 0;\n      //传入当前聊天窗口信息\n      this.chatWindowInfo = info;\n      //设置当前被点击的对象\n      this.personInfo = info;\n      //设置当前被点击的模型id\n      this.pcCurrent = info.id;\n    },\n    //会话被点击\n    clickSession(info) {\n      this.sessionCurrent = info.id;\n      this.$refs.chatWindow.assignmentMesList(info.dataList);\n    },\n    //微调模型被点击\n    clickFineTuning(info) {\n      this.storeStatus = 1;\n      //传入当前聊天窗口信息\n      this.chatWindowInfo = info;\n      //设置当前被点击的对象\n      this.fineTuningInfo = info;\n      //设置当前选着的微调模型id\n      this.ftCurrent = info.id;\n    },\n    //文件被点击\n    clickFile(info) {\n      this.chatWindowInfo = {\n        img: \"\",\n        name: info.id,\n        detail: info.detail,\n        lastMsg: info.lastMsg,\n        id: info.id\n      };\n      this.fiCurrent = info.fileId;\n      this.fileInfo = info;\n    },\n    //删除文件\n    deleteOnFile() {\n      if (!this.fileInfo || !this.fileInfo.fileId) {\n        this.$message.error(\"只能删除文件哦~\");\n      } else {\n        deleteFile(this.fileInfo.fileId, this.SettingInfo.KeyMsg).then(res => {\n          this.$message.success(\"恭喜您删除成功~\");\n          this.getFilessList(this.SettingInfo.KeyMsg);\n        }).catch(e => {\n          this.$message.error(\"文件删除失败了~\");\n        });\n      }\n    },\n    //创建微调\n    createFine() {\n      createFineTune(this.SettingInfo.fineTunes, this.SettingInfo.KeyMsg).then(res => {\n        this.$message.success(\"恭喜您微调创建成功~\");\n        this.getFineTunessList(this.SettingInfo.KeyMsg);\n      }).catch(e => {\n        this.$message.error(\"微调创建失败了...\");\n      });\n    },\n    //删除微调\n    deleteFine() {\n      if (!this.fineTuningInfo || !this.fineTuningInfo.fineTunesId) {\n        this.$message.error(\"只能删除微调中的模型哦~\");\n      } else {\n        deleteFineTuneModel(this.fineTuningInfo.name, this.SettingInfo.KeyMsg).then(res => {\n          this.$message.success(\"恭喜您微调模型删除成功~\");\n          console.log(res);\n          this.getFineTunessList(this.SettingInfo.KeyMsg);\n        }).catch(e => {\n          this.$message.error(\"微调模型删除失败了,模型正在训练中或者中途已取消\");\n        });\n      }\n    },\n    //取消微调\n    cancelFine() {\n      if (!this.fineTuningInfo || !this.fineTuningInfo.fineTunesId || this.fineTuningInfo.fineTunesStatus === \"succeeded\") {\n        this.$message.error(\"只能取消进行训练中的微调模型哦~\");\n      } else {\n        console.log(this.fineTuningInfo.fineTunesId);\n        cancelFineTune(this.fineTuningInfo.fineTunesId, this.SettingInfo.KeyMsg).then(res => {\n          this.$message.success(\"成功取消此模型~\");\n          this.getFineTunessList(this.SettingInfo.KeyMsg);\n        }).catch(e => {\n          console.log(e);\n          this.$message.error(\"取消微调模型失败~\");\n        });\n      }\n    },\n    //检索微调\n    retrieveFine() {\n      if (!this.fineTuningInfo || !this.fineTuningInfo.fineTunesId) {\n        this.$message.error(\"只能检索的微调模型哦~\");\n      } else {\n        console.log(this.fineTuningInfo.fineTunesId);\n        retrieveFineTune(this.fineTuningInfo.fineTunesId, this.SettingInfo.KeyMsg).then(res => {\n          let context = \"`微调任务ID:`\" + res.id + \"  \\n\" + \"`任务类型:`\" + res.object + \"  \\n\" + \"`模型的类型:`\" + res.model + \"  \\n\" + \"`微调任务的创建时间:`\" + JCMFormatTimestamp(res.created_at) + \"  \\n\" + \"`微调的事件列表`  \\n\" + \"| 对象 | 日志级别 | 信息 | 创建时间  |\\n\" + \"| :------: | :------: | :------: | :------: |\\n\";\n          res.events.forEach(obj => {\n            context += `| ${obj.object} | ${obj.level} | ${obj.message} | ${JCMFormatTimestamp(obj.created_at)} |\\n`;\n          });\n          context += \"\\n `微调的模型ID:`\" + res.fine_tuned_model + \"\\n\\n `微调使用的参数:` \\n\" + \"| 属性 | 设置的值 | \\n\" + \"| :------: | :------: | \\n\";\n          for (let prop in res.hyperparams) {\n            if (res.hyperparams.hasOwnProperty(prop)) {\n              context += `| ${prop} | ${res.hyperparams[prop]} |\\n`;\n            }\n          }\n          context += \"\\n`用户所属组:`\" + res.organization_id;\n          if (res.result_files.length == 0) {\n            context += \"\\n\\n`训练结果文件列表:没有`\\n\\n\";\n          } else {\n            context += \"\\n\\n`训练结果文件列表:`\\n\\n\" + \"| ID  | 文件名称 | 文件大小 |   对象 | 状态 |    \\n\" + \"| :------: | :------: | :------: | :------: | :------: | \\n\";\n            res.result_files.forEach(obj => {\n              context += `| ${obj.id} | ${obj.filename}  | ${(obj.bytes / 1024 / 1024).toFixed(2) + \"MB\"} | ${obj.object} | ${obj.status} |  \\n`;\n            });\n          }\n          context += \"\\n`状态:`\" + res.status + \"\\n\";\n          if (res.training_files.length == 0) {\n            context += \"\\n\\n`训练的文件列表:没有`\\n\\n\";\n          } else {\n            context += \"\\n\\n`训练的文件列表:`\\n\\n\" + \"| ID  | 文件名称 | 文件大小 |   对象 | 状态 |  \\n\" + \"| :------: | :------: | :------: | :------: | :------: | \\n\";\n            res.training_files.forEach(obj => {\n              context += `| ${obj.id} | ${obj.filename}  | ${(obj.bytes / 1024 / 1024).toFixed(2) + \"MB\"} | ${obj.object} | ${obj.status} |  \\n`;\n            });\n          }\n          if (res.validation_files.length == 0) {\n            context += \"\\n\\n`验证的文件列表:没有`\\n\\n\";\n          } else {\n            context += \"\\n\\n`验证的文件列表:`\\n\\n\" + \"| ID  | 文件名称 | 文件大小 |   对象 | 状态 |  \\n\" + \"| :------: | :------: | :------: | :------: | :------: | \\n\";\n            res.validation_files.forEach(obj => {\n              context += `| ${obj.id} | ${obj.filename}  | ${(obj.bytes / 1024 / 1024).toFixed(2) + \"MB\"} | ${obj.object} | ${obj.status} |  \\n`;\n            });\n          }\n          context += \"\\n`最后更新时间戳:`\" + JCMFormatTimestamp(res.updated_at);\n          let retrieveFineTuneMsg = {\n            headImg: AI_HEAD_IMG_URL,\n            name: res.fine_tuned_model !== null ? res.fine_tuned_model : res.id,\n            time: JCMFormatDate(getNowTime()),\n            msg: context,\n            chatType: 0,\n            uid: res.id\n          };\n          this.$refs.chatWindow.sendMsg(retrieveFineTuneMsg);\n          console.log(res);\n        }).catch(e => {\n          console.log(e);\n          this.$message.error(\"检索微调模型失败~\");\n        });\n      }\n    },\n    personCardSort(id) {\n      if (id !== this.personList[0].id) {\n        console.log(id);\n        let nowPersonInfo;\n        for (let i = 0; i < this.personList.length; i++) {\n          if (this.personList[i].id == id) {\n            nowPersonInfo = this.personList[i];\n            this.personList.splice(i, 1);\n            break;\n          }\n        }\n        this.personList.unshift(nowPersonInfo);\n      }\n    },\n    fineTunesCardSort(id) {\n      if (id !== this.fineTuningList[0].id) {\n        console.log(id);\n        let nowPersonInfo;\n        for (let i = 0; i < this.fineTuningList.length; i++) {\n          if (this.fineTuningList[i].id == id) {\n            nowPersonInfo = this.fineTuningList[i];\n            this.fineTuningList.splice(i, 1);\n            break;\n          }\n        }\n        this.fineTuningList.unshift(nowPersonInfo);\n      }\n    }\n  }\n};","map":{"version":3,"names":["PersonCard","Session","File","ChatWindow","AI_HEAD_IMG_URL","getModels","getMoneyInfo","getFineTunesList","getFilesList","uploadFile","createFineTune","cancelFineTune","deleteFineTuneModel","retrieveFineTune","deleteFile","retrieveFile","retrieveFileContent","saveAs","getNowTime","JCMFormatDate","JCMFormatTimestamp","Configuration","OpenAIApi","require","name","components","data","fileSearch","sessionSearch","showFineSetting","cancelFineStatus","storeStatus","defaulWidth","SettingStatus","cutSetting","moneryInfo","totalGranted","totalUsed","totalAvailable","batch_sizeStr","SettingInfo","readefile","inputStatus","translateEnglish","openProductionPicture","openChangePicture","KeyMsg","process","env","VUE_APP_OPENAI_API_KEY","MaxTokens","Temperature","TemperatureAudio","TopP","FrequencyPenalty","PresencePenalty","n","size","language","contentImageUrl","fineTunes","training_file","validation_file","batch_size","model","n_epochs","prompt_loss_weight","compute_classification_metrics","suffix","fiCurrent","pcCurrent","sessionCurrent","ftCurrent","fineTuningSearch","modelSearch","fileList","fineTuningList","fineTuningCacheList","personList","sessionList","personListCache","showChatWindow","chatWindowInfo","imgSizes","value","languages","showPersonList","showSetupList","created","window","addEventListener","handleResize","destoryed","removeEventListener","mounted","img","detail","lastMsg","id","headImg","showHeadImg","getModelList","$watch","watchKeyMsg","watchContentImageUrl","watchModelSearch","watchFineTuningSearch","watchFileSearch","filters","numFilterReserved","digit","parseFloat","toFixed","watch","handler","newVal","oldVal","parseInt","learning_rate_multiplier","classification_n_classes","classification_positive_class","classification_betas","split","map","str","deep","methods","$refs","chatWindow","updateContentImageUrl","length","filter","fineTunin","fineTunesStatus","fineTuning","includes","fileCacheList","person","then","res","total_granted","total_used","total_available","catch","e","$message","message","type","showOrHidenCancelFine","status","importFromJsonArrAll","onupdateJosnArrAll","click","handleFileUploadAll","event","file","target","files","reader","FileReader","onload","fileContent","result","parsed","JSON","parse","readAsText","importFromJsonArr","onupdateJosnArr","handleFileUpload","assignmentMesList","exportObjArrAllToJson","jsonString","stringify","blob","Blob","exportObjArrToJson","mesList","getMesList","clearAllContext","clearCurrentContext","clearMsgList","toggleLeft","console","log","toggleRight","key","modelsRes","fineTunesRes","fineTunesIds","item","models","updateMoneyInfo","getFineTunessList","getFilessList","innerWidth","info","personInfo","$nextTick","newSession","currentLen","obj","msgList","title","msg","dataList","tempSessionList","push","reverse","modelClick","clearCurrent","fineTuningInfo","sessionClick","fineTuningClick","fileClick","fileInput","onFileChange","endsWith","formData","FormData","append","$copy","retrieveOnFile","fileInfo","fileId","error","context","filename","bytes","object","status_details","purpose","created_at","retrieveFineTuneMsg","time","chatType","uid","sendMsg","retrieveOnFileContent","configuration","apiKey","openai","response","downloadFile","clickPerson","clickSession","clickFineTuning","clickFile","deleteOnFile","success","createFine","deleteFine","fineTunesId","cancelFine","retrieveFine","events","forEach","level","fine_tuned_model","prop","hyperparams","hasOwnProperty","organization_id","result_files","training_files","validation_files","updated_at","personCardSort","nowPersonInfo","i","splice","unshift","fineTunesCardSort"],"sources":["src/view/pages/chatHome/index.vue"],"sourcesContent":["<template>\n  <div class=\"chatHome\">\n    <div class=\"chatLeft\" style=\"width:22%\" v-show=\"showPersonList\">\n      <div class=\"title\" style=\"text-align: center;\">\n        <svg t=\"1679634305168\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n          p-id=\"3634\" width=\"40\" height=\"40\">\n          <path\n            d=\"M512 960.4c-23.2 0-46.5-6-67.2-17.9L173.5 785.8c-41.4-23.9-67.2-68.5-67.2-116.3V356.1c0-47.8 25.7-92.4 67.2-116.3L444.8 83.1c41.4-23.9 92.9-23.9 134.3 0l271.4 156.7c41.4 23.9 67.2 68.5 67.2 116.3v313.4c0 47.8-25.7 92.4-67.2 116.3L579.2 942.5c-20.7 11.9-44 17.9-67.2 17.9z m0-805.6c-7.7 0-15.4 2-22.3 6L218.3 317.5c-13.8 7.9-22.3 22.7-22.3 38.6v313.4c0 15.9 8.5 30.7 22.3 38.6l271.4 156.7c13.8 7.9 30.8 7.9 44.6 0l271.4-156.7c13.8-7.9 22.3-22.7 22.3-38.6V356.1c0-15.9-8.5-30.7-22.3-38.6L534.3 160.8c-6.9-4-14.6-6-22.3-6z\"\n            fill=\"#ffffff\" p-id=\"3635\"></path>\n          <path\n            d=\"M514 559c-7.8 0-15.5-2-22.4-6L270.9 425.4c-21.5-12.4-28.8-39.8-16.4-61.3 12.4-21.5 39.8-28.8 61.3-16.4l198.1 114.5 189.7-110.9c21.4-12.5 48.9-5.3 61.4 16.1 12.5 21.4 5.3 48.9-16.1 61.4l-212.2 124c-7 4.1-14.9 6.2-22.7 6.2z\"\n            fill=\"#ffffff\" p-id=\"3636\"></path>\n          <path\n            d=\"M512 805.8c-24.8 0-44.9-20.1-44.9-44.9V514.1c0-24.8 20.1-44.9 44.9-44.9s44.9 20.1 44.9 44.9V761c0 24.7-20.1 44.8-44.9 44.8z\"\n            fill=\"#ffffff\" p-id=\"3637\"></path>\n        </svg>\n        <h2>OpenAI Manage</h2>\n      </div>\n      <div class=\"online-person\" style=\"margin-top: 5%;\">\n        <el-row :gutter=\"24\">\n          <el-col :span=\"6\">\n            <div class=\"setting\" style=\"text-align: center;\">\n              <span class=\"\" @click=\"sessionClick\" :class=\"{ whiteText: cutSetting === 1 }\">会话</span>\n            </div>\n          </el-col>\n          <el-col :span=\"6\">\n            <div class=\"setting\" style=\"text-align: center;\">\n              <span class=\"\" @click=\"modelClick\" :class=\"{ whiteText: cutSetting === 0 }\">模型</span>\n            </div>\n          </el-col>\n          <el-col :span=\"6\">\n            <div class=\"setting\" style=\"text-align: center;\">\n              <span class=\"\" @click=\"fineTuningClick\" :class=\"{ whiteText: cutSetting === 2 }\">微调</span>\n            </div>\n          </el-col>\n          <el-col :span=\"6\">\n            <div class=\"setting\" style=\"text-align: center;\">\n              <span class=\"\" @click=\"fileClick\" :class=\"{ whiteText: cutSetting === 3 }\">文件</span>\n            </div>\n          </el-col>\n        </el-row>\n        <div v-show=\"cutSetting == 0\">\n          <input class=\"inputs\" v-model=\"modelSearch\" style=\" margin-top: 10px;\" placeholder=\"模型名称\"/>\n          <div class=\"s-wrapper\">\n            <div class=\"personList\" v-for=\"personInfo in personList\" :key=\"personInfo.id\"\n              @click=\"clickPerson(personInfo)\">\n              <PersonCard :personInfo=\"personInfo\" :pcCurrent=\"pcCurrent\"></PersonCard>\n            </div>\n          </div>\n        </div>\n\n        <div v-show=\"cutSetting == 1\">\n          <input class=\"inputs\" v-model=\"sessionSearch\" style=\" margin-top: 10px;\" placeholder=\"会话名称\"/>\n          <div class=\"s-wrapper\">\n            <div v-for=\"sessionInfo in sessionList\" :key=\"sessionInfo.id\" @click=\"clickSession(sessionInfo)\">\n              <Session :sessionInfo=\"sessionInfo\" :pcCurrent=\"sessionCurrent\"></Session>\n            </div>\n          </div>\n        </div>\n\n        <div v-show=\"cutSetting == 2\">\n          <input class=\"inputs\" v-model=\"fineTuningSearch\" style=\" margin-top: 10px;\" placeholder=\"微调模型名称\" />\n          <div class=\"s-wrapper\">\n            <div class=\"personList\" v-for=\"fineTuningInfo in fineTuningList\" :key=\"fineTuningInfo.id\"\n              @click=\"clickFineTuning(fineTuningInfo)\">\n              <PersonCard :personInfo=\"fineTuningInfo\" :pcCurrent=\"ftCurrent\"></PersonCard>\n            </div>\n          </div>\n        </div>\n\n        <div v-show=\"cutSetting == 3\">\n          <input class=\"inputs\" v-model=\"fileSearch\" style=\" margin-top: 10px;\" placeholder=\"文件名称\" />\n         \n          <div class=\"s-wrapper\">\n            <div class=\"personList\" v-for=\"(fileInfo, index) in fileList\" :key=\"index\" @click=\"clickFile(fileInfo)\">\n              <File :fileInfo=\"fileInfo\" :pcCurrent=\"fiCurrent\"></File>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </div>\n    <div class=\"chatRight\">\n      <!-- <router-view></router-view> -->\n      <div class=\"top-left\" @click=\"toggleLeft\">\n        <svg t=\"1679366341860\" class=\"icon\" v-show=\"!showPersonList\" viewBox=\"0 0 1024 1024\" version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\" p-id=\"5764\" width=\"30\" height=\"30\">\n          <path\n            d=\"M912.8 513.2C912.8 733.1 733.9 912 514 912S115.2 733.1 115.2 513.2 294.1 114.3 514 114.3s398.8 179 398.8 398.9z m-701.5 0c0 166.9 135.8 302.7 302.7 302.7s302.7-135.8 302.7-302.7S680.9 210.5 514 210.5 211.3 346.3 211.3 513.2z\"\n            fill=\"#BDD2EF\" p-id=\"5765\"></path>\n          <path\n            d=\"M626.8 345.9c0 15-5.7 30.1-17.2 41.5L487.1 510l122.6 122.6c22.9 22.9 22.9 60.2 0 83.1-22.9 22.9-60.2 22.9-83.1 0L362.4 551.6c-22.9-22.9-22.9-60.2 0-83.1l164.1-164.1c22.9-22.9 60.2-22.9 83.1 0 11.5 11.5 17.2 26.5 17.2 41.5z\"\n            fill=\"#2867CE\" p-id=\"5766\"></path>\n        </svg>\n        <svg t=\"1679366707602\" class=\"icon\" v-show=\"showPersonList\" viewBox=\"0 0 1024 1024\" version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\" p-id=\"7551\" width=\"30\" height=\"30\">\n          <path\n            d=\"M514 912c-219.9 0-398.8-178.9-398.8-398.9 0-219.9 178.9-398.8 398.8-398.8s398.8 178.9 398.8 398.8c0 220-178.9 398.9-398.8 398.9z m0-701.5c-166.9 0-302.7 135.8-302.7 302.7S347.1 815.9 514 815.9s302.7-135.8 302.7-302.7S680.9 210.5 514 210.5z\"\n            fill=\"#BDD2EF\" p-id=\"7552\"></path>\n          <path\n            d=\"M402.5 677.3c0-15 5.7-30.1 17.2-41.5l122.6-122.6-122.6-122.6c-22.9-22.9-22.9-60.2 0-83.1 22.9-22.9 60.2-22.9 83.1 0l164.1 164.1c22.9 22.9 22.9 60.2 0 83.1L502.8 718.8c-22.9 22.9-60.2 22.9-83.1 0-11.5-11.4-17.2-26.5-17.2-41.5z\"\n            fill=\"#2867CE\" p-id=\"7553\"></path>\n        </svg>\n      </div>\n      <div class=\"top-right\" @click=\"toggleRight\">\n        <svg t=\"1679366707602\" class=\"icon\" v-show=\"!showSetupList\" viewBox=\"0 0 1024 1024\" version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\" p-id=\"7551\" width=\"30\" height=\"30\">\n          <path\n            d=\"M514 912c-219.9 0-398.8-178.9-398.8-398.9 0-219.9 178.9-398.8 398.8-398.8s398.8 178.9 398.8 398.8c0 220-178.9 398.9-398.8 398.9z m0-701.5c-166.9 0-302.7 135.8-302.7 302.7S347.1 815.9 514 815.9s302.7-135.8 302.7-302.7S680.9 210.5 514 210.5z\"\n            fill=\"#BDD2EF\" p-id=\"7552\"></path>\n          <path\n            d=\"M402.5 677.3c0-15 5.7-30.1 17.2-41.5l122.6-122.6-122.6-122.6c-22.9-22.9-22.9-60.2 0-83.1 22.9-22.9 60.2-22.9 83.1 0l164.1 164.1c22.9 22.9 22.9 60.2 0 83.1L502.8 718.8c-22.9 22.9-60.2 22.9-83.1 0-11.5-11.4-17.2-26.5-17.2-41.5z\"\n            fill=\"#2867CE\" p-id=\"7553\"></path>\n        </svg>\n        <svg t=\"1679366341860\" class=\"icon\" v-show=\"showSetupList\" viewBox=\"0 0 1024 1024\" version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\" p-id=\"5764\" width=\"30\" height=\"30\">\n          <path\n            d=\"M912.8 513.2C912.8 733.1 733.9 912 514 912S115.2 733.1 115.2 513.2 294.1 114.3 514 114.3s398.8 179 398.8 398.9z m-701.5 0c0 166.9 135.8 302.7 302.7 302.7s302.7-135.8 302.7-302.7S680.9 210.5 514 210.5 211.3 346.3 211.3 513.2z\"\n            fill=\"#BDD2EF\" p-id=\"5765\"></path>\n          <path\n            d=\"M626.8 345.9c0 15-5.7 30.1-17.2 41.5L487.1 510l122.6 122.6c22.9 22.9 22.9 60.2 0 83.1-22.9 22.9-60.2 22.9-83.1 0L362.4 551.6c-22.9-22.9-22.9-60.2 0-83.1l164.1-164.1c22.9-22.9 60.2-22.9 83.1 0 11.5 11.5 17.2 26.5 17.2 41.5z\"\n            fill=\"#2867CE\" p-id=\"5766\"></path>\n        </svg>\n      </div>\n      <div v-if=\"showChatWindow\">\n        <ChatWindow ref=\"chatWindow\" :frinedInfo=\"chatWindowInfo\" :settingInfo=\"SettingInfo\" :storeStatu=\"storeStatus\"\n          @personCardSort=\"personCardSort\"></ChatWindow>\n      </div>\n      <div class=\"showIcon\" v-else>\n        <svg t=\"1679552353056\" class=\"icon iconfont icon-snapchat\" viewBox=\"0 0 1024 1024\" version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\" p-id=\"3488\" width=\"200\" height=\"200\">\n          <path\n            d=\"M992.33 416.37c17.66 0 31.98-14.32 31.98-31.98s-14.32-31.98-31.98-31.98h-63.98v-63.96h63.98c17.66 0 31.98-14.32 31.98-31.98s-14.32-31.98-31.98-31.98h-63.98v-95.94c0.01-8.48-3.36-16.62-9.35-22.62-6-6-14.14-9.37-22.62-9.36h-95.94V32.61c0-17.67-14.32-31.98-31.98-31.98-17.67 0-31.98 14.32-31.98 31.98v63.96h-63.96V32.61c0-17.67-14.32-31.98-31.98-31.98-17.67 0-31.98 14.32-31.98 31.98v63.96H544.6V32.61c0-17.67-14.32-31.98-31.98-31.98-17.67 0-31.98 14.32-31.98 31.98v63.96h-63.96V32.61c0-17.67-14.32-31.98-31.98-31.98s-31.98 14.32-31.98 31.98v63.96h-63.96V32.61c0-17.67-14.32-31.98-31.98-31.98S224.8 14.95 224.8 32.61v63.96h-95.94c-8.48 0-16.62 3.36-22.62 9.36s-9.36 14.14-9.36 22.62v95.94H32.92c-17.67 0-31.98 14.32-31.98 31.98s14.32 31.98 31.98 31.98h63.96v63.96H32.92c-17.67 0-31.98 14.32-31.98 31.98 0 17.67 14.32 31.98 31.98 31.98h63.96v63.97H32.92c-17.66 0-31.97 14.31-31.97 31.97 0 17.65 14.31 31.97 31.97 31.97h63.96v63.98H32.92c-17.66 0-31.97 14.31-31.97 31.97 0 17.66 14.31 31.97 31.97 31.97h63.96v63.98H32.92C15.26 736.18 0.95 750.5 0.95 768.15s14.31 31.97 31.97 31.97h63.96v95.95a31.944 31.944 0 0 0 9.36 22.62c6 5.99 14.14 9.36 22.62 9.35h95.94v63.98c0 17.66 14.32 31.98 31.98 31.98 17.67 0 31.98-14.32 31.98-31.98v-63.98h63.96v63.98c0 17.66 14.32 31.98 31.98 31.98 17.67 0 31.98-14.32 31.98-31.98v-63.98h63.96v63.98c0 17.66 14.32 31.98 31.98 31.98s31.98-14.32 31.98-31.98v-63.98h63.96v63.98c0 17.66 14.32 31.98 31.98 31.98s31.98-14.32 31.98-31.98v-63.98h63.96v63.98c0 17.66 14.32 31.98 31.98 31.98s31.98-14.32 31.98-31.98v-63.98h95.94c8.48 0.02 16.62-3.35 22.62-9.35s9.37-14.14 9.35-22.62v-95.95h63.98c17.65 0 31.97-14.31 31.97-31.97 0-17.66-14.31-31.97-31.97-31.97h-63.98V672.2h63.98c17.65 0 31.97-14.31 31.97-31.97 0-17.66-14.31-31.97-31.97-31.97h-63.98v-63.98h63.98c17.65 0 31.97-14.31 31.97-31.97 0-17.66-14.31-31.97-31.97-31.97h-63.98v-63.97h63.98zM864.41 864.1H160.84V160.53h703.57V864.1zM406.82 580.42h79.2l15.48 61.56h67.68l-83.16-267.84h-77.04l-83.16 267.84h65.52l15.48-61.56z m18-72.36c6.84-26.64 14.04-57.96 20.52-86.04h1.44c7.2 27.36 14.04 59.4 21.24 86.04l5.76 22.68h-54.72l5.76-22.68zM697.7 641.98h-64.44V374.14h64.44v267.84z\"\n            p-id=\"3489\"></path>\n        </svg>\n      </div>\n    </div>\n    <div class=\"chatLeft\" v-show=\"showSetupList\">\n\n      <el-card shadow=\"hover\" id=\"jianbian\" style=\"line-height: 120%;text-align: center;\">\n        总余额：${{ this.moneryInfo.totalGranted | numFilterReserved(2) }}<br />\n        可用余额：${{ this.moneryInfo.totalAvailable | numFilterReserved(4) }}<br />\n        消耗余额：${{ moneryInfo.totalUsed | numFilterReserved(4) }}<br />\n      </el-card>\n\n      <div class=\"online-person\">\n        <el-row :gutter=\"20\">\n          <el-col :span=\"6\"><span class=\"setting\" @click=\"SettingStatus = 0\"\n              :class=\"{ active: SettingStatus === 0 }\">对话</span></el-col>\n          <el-col :span=\"6\"><span class=\"setting\" @click=\"SettingStatus = 1\"\n              :class=\"{ active: SettingStatus === 1 }\">图片</span></el-col>\n          <el-col :span=\"6\"><span class=\"setting\" @click=\"SettingStatus = 2\"\n              :class=\"{ active: SettingStatus === 2 }\">音频</span></el-col>\n          <el-col :span=\"6\"><span class=\"setting\" @click=\"SettingStatus = 3\"\n              :class=\"{ active: SettingStatus === 3 }\">微调</span></el-col>\n          <el-col :span=\"6\"><span class=\"setting\" @click=\"SettingStatus = 4\"\n              :class=\"{ active: SettingStatus === 4 }\">文件</span></el-col>\n          <el-col :span=\"6\"><span class=\"setting\" @click=\"SettingStatus = 5\"\n              :class=\"{ active: SettingStatus === 5 }\">会话</span></el-col>\n          <el-col :span=\"6\"><span class=\"setting\" @click=\"SettingStatus = 6\"\n              :class=\"{ active: SettingStatus === 6 }\">识图</span></el-col>\n          <el-col :span=\"6\"><span class=\"setting\" @click=\"SettingStatus = 7\"\n              :class=\"{ active: SettingStatus === 7 }\">设置</span></el-col>\n        </el-row>\n\n        <div class=\"s-wrapper\" style=\"height: 68vh;\">\n\n          <div>\n            <input class=\"inputs\" v-model=\"SettingInfo.KeyMsg\" placeholder=\"请输入OpenAI KEY\" type=\"password\"\n              style=\"width: 100%; margin-left: 0px;margin-right: 0px;\" />\n          </div>\n          <!--对话设置-->\n          <el-collapse-transition>\n            <div v-show=\"SettingStatus == 0\">\n              <div class=\"block\">\n                <el-tooltip class=\"item\" effect=\"dark\" content=\"指定要生成的最大单词数，不能超过2048。\" placement=\"top\">\n                  <span class=\"demonstration\" style=\"\">max_tokens</span>\n                </el-tooltip>\n\n                <el-slider class=\"astrict\" v-model=\"SettingInfo.MaxTokens\" :step=\"1\" :min=\"0\" :max=\"2048\"></el-slider>\n              </div>\n\n              <div class=\"block\">\n                <el-tooltip class=\"item\" effect=\"dark\" content=\"指定生成文本的随机性，范围是0到2，越高表示越多样化和创造性，越低表示越保守和确定性。\"\n                  placement=\"top\">\n                  <span class=\"demonstration\">temperature(0~2)</span>\n                </el-tooltip>\n\n                <el-slider class=\"astrict\" v-model=\"SettingInfo.Temperature\" :step=\"0.1\" :min=\"0\" :max=\"2\"></el-slider>\n              </div>\n\n              <div class=\"block\">\n                <el-tooltip class=\"item\" effect=\"dark\" content=\"指定在每个步骤中保留概率最高的单词的比例，范围是0到1，与temperature类似，但更加灵活和稳健。\"\n                  placement=\"top\">\n                  <span class=\"demonstration\" s>top_p(0~1)</span>\n                </el-tooltip>\n\n                <el-slider class=\"astrict\" v-model=\"SettingInfo.TopP\" :step=\"0.1\" :min=\"0\" :max=\"1\"></el-slider>\n              </div>\n\n              <div class=\"block\">\n                <el-tooltip class=\"item\" effect=\"dark\" content=\"指定降低重复单词出现概率的程度，范围是0到1，越高表示越避免重复。\" placement=\"top\">\n                  <span class=\"demonstration\">frequency_penalty(-2~2)</span>\n                </el-tooltip>\n\n                <el-slider class=\"astrict\" v-model=\"SettingInfo.FrequencyPenalty\" :step=\"0.1\" :min=\"-2\"\n                  :max=\"2\"></el-slider>\n              </div>\n\n              <div class=\"block\">\n                <el-tooltip class=\"item\" effect=\"dark\" content=\"指定降低重复话题出现概率的程度，范围是0到1，越高表示越避免重复。\" placement=\"top\">\n                  <span class=\"demonstration\">presence_penalty(-2~2)</span>\n                </el-tooltip>\n                <el-slider class=\"astrict\" v-model=\"SettingInfo.PresencePenalty\" :step=\"0.1\" :min=\"-2\"\n                  :max=\"2\"></el-slider>\n              </div>\n              <!-- <div class=\"block\">\n                <el-tooltip class=\"item\" effect=\"dark\" content=\"开启读文模式\" placement=\"top\">\n                  <span class=\"demonstration\">开启读文模式</span>\n                </el-tooltip>\n                <el-switch v-model=\"SettingInfo.readefile\" :width=\"defaulWidth\"\n                  style=\"margin-left: 15%;\"></el-switch>\n              </div>\n              <div style=\"height: 30px;\"></div> -->\n            </div>\n          </el-collapse-transition>\n\n          <!--图片设置-->\n          <el-collapse-transition>\n            <div v-show=\"SettingStatus == 1\">\n\n              <div class=\"block\">\n                <el-tooltip class=\"item\" effect=\"dark\" content=\"打开之后聊天发送的内容为描述图片的信息\" placement=\"top\">\n                  <span class=\"demonstration\">产图模式</span>\n                </el-tooltip>\n                <el-switch v-model=\"SettingInfo.openProductionPicture\" :width=\"defaulWidth\"\n                  style=\"margin-left: 15%;\"></el-switch>\n              </div>\n\n              <div class=\"block\">\n                <el-tooltip class=\"item\" effect=\"dark\" content=\"打开之后先上传图片，然后再输入提示词进行修改。\" placement=\"top\">\n                  <span class=\"demonstration\">改图模式</span>\n                </el-tooltip>\n                <el-switch v-model=\"SettingInfo.openChangePicture\" :width=\"defaulWidth\"\n                  style=\"margin-left: 15%;\"></el-switch>\n              </div>\n\n              <div class=\"block\">\n                <el-tooltip class=\"item\" effect=\"dark\" content=\"图片的大小。\" placement=\"top\">\n                  <span class=\"demonstration\">size</span>\n                </el-tooltip>\n                <div>\n                  <el-select v-model=\"SettingInfo.size\" placeholder=\"请选择\" style=\"margin-top: 10px;\">\n                    <el-option v-for=\"item in imgSizes\" :key=\"item.value\" :value=\"item.value\">\n                    </el-option>\n                  </el-select>\n                </div>\n              </div>\n\n              <div class=\"block\">\n                <el-tooltip class=\"item\" effect=\"dark\" content=\"生成图片的数量。\" placement=\"top\">\n                  <span class=\"demonstration\">n(1~10)</span>\n                </el-tooltip>\n                <el-slider class=\"astrict\" v-model=\"SettingInfo.n\" :step=\"1\" :min=\"-1\" :max=\"10\"></el-slider>\n              </div>\n\n            </div>\n          </el-collapse-transition>\n\n\n\n          <!--音频设置-->\n          <el-collapse-transition>\n            <div v-show=\"SettingStatus == 2\">\n\n              <div class=\"block\">\n                <el-tooltip class=\"item\" effect=\"dark\" content=\"语音转文字\" placement=\"top\">\n                  <span class=\"demonstration\">语音转文字</span>\n                </el-tooltip>\n                <el-switch v-model=\"SettingInfo.translateEnglish\" :width=\"defaulWidth\"\n                  style=\"margin-left: 15%;\"></el-switch>\n              </div>\n\n              <div class=\"block\">\n                <el-tooltip class=\"item\" effect=\"dark\" content=\"将一个或多个来源语言的语音或音频文件翻译成目标语言\" placement=\"top\">\n                  <span class=\"demonstration\">language</span>\n                </el-tooltip>\n                <div>\n                  <el-select v-model=\"SettingInfo.language\" placeholder=\"请选择\" style=\"margin-top: 10px;\">\n                    <el-option v-for=\"item in languages\" :key=\"item.value\" :value=\"item.value\">\n                    </el-option>\n                  </el-select>\n                </div>\n              </div>\n\n\n              <div class=\"block\">\n                <el-tooltip class=\"item\" effect=\"dark\" content=\"指定语音识别的随机性，范围是0到1，越高表示越多样化和创造性，越低表示越保守和确定性。\"\n                  placement=\"top\">\n                  <span class=\"demonstration\">temperature(0~1)</span>\n                </el-tooltip>\n\n                <el-slider class=\"astrict\" v-model=\"SettingInfo.TemperatureAudio\" :step=\"0.1\" :min=\"0\"\n                  :max=\"1\"></el-slider>\n              </div>\n\n\n            </div>\n          </el-collapse-transition>\n\n\n          <!--微调-->\n          <el-collapse-transition>\n            <div v-show=\"SettingStatus == 3\">\n              <div class=\"fineTune boxinput\" @click=\"retrieveFine\" style=\"margin-left: 0px;margin-right: 0px;width: 99%;\">\n                检索微调\n              </div>\n              <div class=\"fineTune boxinput\" @click=\"cancelFine\" style=\"margin-left: 0px;margin-right: 0px;width: 99%;\">\n                取消微调\n              </div>\n              <div class=\"fineTune boxinput\" @click=\"showOrHidenCancelFine(false)\" v-if=\"cancelFineStatus\"\n                style=\"margin-left: 0px;margin-right: 0px;width: 99%;\">\n                隐藏已取消的微调\n              </div>\n              <div class=\"fineTune boxinput\" @click=\"showOrHidenCancelFine(true)\" v-else\n                style=\"margin-left: 0px;margin-right: 0px;width: 99%;\">\n                显示已取消的微调\n              </div>\n              <div class=\"fineTune boxinput\" @click=\"deleteFine\" style=\"margin-left: 0px;margin-right: 0px;width: 99%;\">\n                删除微调模型\n              </div>\n              <div class=\"fineTune boxinput\" @click=\"showFineSetting = !showFineSetting\"\n                style=\"margin-left: 0px;margin-right: 0px;width: 99%;\">\n                创建微调\n              </div>\n              <el-collapse-transition>\n                <div v-show=\"showFineSetting\">\n                  <div class=\"block\">\n                    <el-tooltip class=\"item\" effect=\"dark\" content=\"包含训练数据的文件ID\" placement=\"top\">\n                      <span class=\"demonstration\" style=\"\">trainingFile<span style=\"color: red;\">*</span></span>\n                    </el-tooltip>\n\n                    <input class=\"weitiao\" v-model=\"SettingInfo.fineTunes.training_file\" placeholder=\"训练数据的文件ID\" />\n                  </div>\n\n\n                  <div class=\"block\">\n                    <el-tooltip class=\"item\" effect=\"dark\" content=\"包含验证数据的文件ID\" placement=\"top\">\n                      <span class=\"demonstration\" style=\"\">validationFile</span>\n                    </el-tooltip>\n\n                    <input class=\"weitiao\" v-model=\"SettingInfo.fineTunes.validation_file\" placeholder=\"验证数据文件ID\" />\n                  </div>\n\n                  <div class=\"block\">\n                    <el-tooltip class=\"item\" effect=\"dark\" content=\"您可以选择ada、babbage、curie、davinci或者是你自己通过微调训练的模型名称\"\n                      placement=\"top\">\n                      <span class=\"demonstration\" style=\"\">model</span>\n                    </el-tooltip>\n\n                    <input class=\"weitiao\" v-model=\"SettingInfo.fineTunes.model\" placeholder=\"模型名称\" />\n                  </div>\n\n                  <div class=\"block\">\n                    <el-tooltip class=\"item\" effect=\"dark\" content=\"通过调整n_epochs的数量，可以控制模型的训练时期和训练次数，从而影响模型的性能和收敛速度\"\n                      placement=\"top\">\n                      <span class=\"demonstration\" style=\"\">nEpochs</span>\n                    </el-tooltip>\n\n                    <input class=\"weitiao\" v-model=\"SettingInfo.fineTunes.n_epochs\" type=\"number\" placeholder=\"训练次数\" />\n                  </div>\n\n                  <div class=\"block\">\n                    <el-tooltip class=\"item\" effect=\"dark\"\n                      content=\"较大的 batch_size可以加快模型的训练速度、模型的稳定性和泛化能力，较小的 batch_size 可以减少内存和计算资源的使用、提高模型在测试数据上的性能\"\n                      placement=\"top\">\n                      <span class=\"demonstration\" style=\"\">batchSize</span>\n                    </el-tooltip>\n\n                    <input class=\"weitiao\" v-model=\"SettingInfo.fineTunes.batch_size\" type=\"number\" placeholder=\"每批数据的大小\" />\n                  </div>\n\n                  <div class=\"block\">\n                    <el-tooltip class=\"item\" effect=\"dark\"\n                      content=\"可以控制微调训练期间使用的学习率是预训练模型使用的学习率的多少倍。例如，如果您设置为2.0，则微调训练期间使用的学习率将是预训练模型使用的学习率的两倍。\"\n                      placement=\"top\">\n                      <span class=\"demonstration\" style=\"\">learningRateMultiplier</span>\n                    </el-tooltip>\n\n                    <input class=\"weitiao\" v-model=\"SettingInfo.fineTunes.learning_rate_multiplier\" type=\"number\" placeholder=\"学习率\" />\n                  </div>\n\n                  <div class=\"block\">\n                    <el-tooltip class=\"item\" effect=\"dark\" content=\"分类任务中的类数,此参数对于多类分类是必需的\" placement=\"top\">\n                      <span class=\"demonstration\" style=\"\">classificationNClasses</span>\n                    </el-tooltip>\n\n                    <input class=\"weitiao\" v-model=\"SettingInfo.fineTunes.classification_n_classes\" type=\"number\"\n                      placeholder=\"分类任务中的类数\" />\n                  </div>\n\n                  <div class=\"block\">\n                    <el-tooltip class=\"item\" effect=\"dark\" content=\"二元分类中的正类,需要此参数来生成精度、召回率和 F1 执行二元分类时的指标。\"\n                      placement=\"top\">\n                      <span class=\"demonstration\" style=\"\">classificationPositiveClass</span>\n                    </el-tooltip>\n\n                    <input class=\"weitiao\" v-model=\"SettingInfo.fineTunes.classification_positive_class\" \n                      placeholder=\"二元分类中的正类\" />\n                  </div>\n\n                  <div class=\"block\">\n                    <el-tooltip class=\"item\" effect=\"dark\" content=\"将计算指定 F-beta 分数 贝塔值。F-beta 分数是 F-1 分数的概括。 这仅用于二元分类。\"\n                      placement=\"top\">\n                      <span class=\"demonstration\" style=\"\">classificationBetas</span>\n                    </el-tooltip>\n\n                    <input class=\"weitiao\" v-model=\"SettingInfo.fineTunes.classification_betas\" placeholder=\"分类贝塔\" />\n                  </div>\n\n                  <div class=\"block\">\n                    <el-tooltip class=\"item\" effect=\"dark\" content=\"最多 40 个字符的字符串，将添加到微调的模型名称中。\" placement=\"top\">\n                      <span class=\"demonstration\" style=\"\">suffix</span>\n                    </el-tooltip>\n\n                    <input class=\"weitiao\" v-model=\"SettingInfo.fineTunes.suffix\" placeholder=\"后缀\" />\n                  </div>\n\n                  <div class=\"block\">\n                    <el-tooltip class=\"item\" effect=\"dark\"\n                      content=\"设置较高的值，那么模型在生成文本时会更加注重提示，设置较低的值模型则会更加注重自己的语言模型，生成更自由的文本\" placement=\"top\">\n                      <span class=\"demonstration\" style=\"\">promptLossWeight</span>\n                    </el-tooltip>\n\n                    <el-slider class=\"astrict\" v-model=\"SettingInfo.fineTunes.prompt_loss_weight\" :step=\"0.01\" :min=\"0.01\"\n                      :max=\"1\" style=\"width: 95%;\"></el-slider>\n                  </div>\n\n\n                  <div class=\"block\">\n                    <el-tooltip class=\"item\" effect=\"dark\" content=\"用于确定是否在训练过程中计算分类特定的指标，例如准确率和F-1分数,可以在结果文件中查看这些指标.\"\n                      placement=\"top\">\n                      <span class=\"demonstration\" style=\"\">computeClassificationMetrics</span>\n                    </el-tooltip>\n                    <div>\n                      <el-switch v-model=\"SettingInfo.fineTunes.compute_classification_metrics\" :width=\"defaulWidth\"\n                        style=\"margin-top: 15px;margin-left: 35%;\"></el-switch>\n                    </div>\n                  </div>\n\n                  <div class=\"fineTune boxinput\" @click=\"createFine\"\n                    style=\"margin-left: 0px;margin-right: 0px;width: 99%; background-color: #409EFF;\">\n                    创建\n                  </div>\n                </div>\n              </el-collapse-transition>\n            </div>\n          </el-collapse-transition>\n\n          <!--文件-->\n          <el-collapse-transition>\n            <div v-show=\"SettingStatus == 4\">\n              <div class=\"fineTune boxinput\" @click=\"uploadFile\" style=\"margin-left: 0px;margin-right: 0px;width: 99%;\"> \n                <input type=\"file\" ref=\"fileInput\" style=\"display: none;\" @change=\"onFileChange\">\n                <svg t=\"1679458974300\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n                  p-id=\"1590\" width=\"30\" height=\"30\">\n                  <path\n                    d=\"M567.466667 634.325333v234.666667a21.333333 21.333333 0 0 1-21.333334 21.333333h-42.666666a21.333333 21.333333 0 0 1-21.333334-21.333333v-234.666667H413.866667a8.533333 8.533333 0 0 1-6.826667-13.653333l110.933333-147.925333a8.533333 8.533333 0 0 1 13.653334 0l110.933333 147.925333a8.533333 8.533333 0 0 1-6.826667 13.653333h-68.266666z\"\n                    fill=\"#ffffff\" p-id=\"1591\"></path>\n                  <path\n                    d=\"M768 725.333333a128 128 0 0 0 38.613333-250.112l-39.850666-12.586666-14.506667-39.253334a256.128 256.128 0 0 0-480.554667 0l-14.464 39.253334-39.850666 12.586666A128.085333 128.085333 0 0 0 256 725.333333a42.666667 42.666667 0 0 1 0 85.333334 213.333333 213.333333 0 0 1-64.341333-416.810667 341.461333 341.461333 0 0 1 640.682666 0A213.418667 213.418667 0 0 1 768 810.666667a42.666667 42.666667 0 0 1 0-85.333334z\"\n                    fill=\"#ffffff\" p-id=\"1592\"></path>\n                </svg>\n                上传文件\n              </div>\n              <div class=\"fineTune boxinput\" @click=\"deleteOnFile\" style=\"margin-left: 0px;margin-right: 0px;width: 99%;\">\n                删除文件\n              </div>\n              <div class=\"fineTune boxinput\" @click=\"retrieveOnFile\"  style=\"margin-left: 0px;margin-right: 0px;width: 99%;\">\n                检索文件\n              </div>\n              <div class=\"fineTune boxinput\" @click=\"retrieveOnFileContent\"  style=\"margin-left: 0px;margin-right: 0px;width: 99%;\">\n                查看文件内容\n              </div>\n            </div>\n          </el-collapse-transition>\n\n          <!--会话-->\n          <el-collapse-transition>\n            <div v-show=\"SettingStatus == 5\">\n              <div class=\"fineTune boxinput\" @click=\"newSession\" style=\"margin-left: 0px;margin-right: 0px;width: 99%;\">\n                <svg t=\"1679215361568\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\"\n                  xmlns=\"http://www.w3.org/2000/svg\" p-id=\"3128\" width=\"25\" height=\"25\">\n                  <path\n                    d=\"M512.001024 0A512 512 0 0 0 0.001024 512a506.88 506.88 0 0 0 92.16 292.352V972.8a51.2 51.2 0 0 0 51.2 51.2H512.001024a512 512 0 0 0 0-1024z m0 921.6H194.561024v-134.144a51.2 51.2 0 0 0-10.24-30.72A406.016 406.016 0 0 1 102.401024 512a409.6 409.6 0 1 1 409.6 409.6z\"\n                    fill=\"#ffffff\" p-id=\"3129\"></path>\n                  <path\n                    d=\"M716.801024 486.4a51.2 51.2 0 0 0-51.2 51.2 153.6 153.6 0 0 1-307.2 0 51.2 51.2 0 0 0-102.4 0 256 256 0 0 0 512 0 51.2 51.2 0 0 0-51.2-51.2z\"\n                    fill=\"#ffffff\" p-id=\"3130\"></path>\n                </svg>\n                创建会话\n              </div>\n              <div class=\"fineTune boxinput\" @click=\"clearCurrentContext\"\n                style=\"margin-left: 0px;margin-right: 0px;width: 99%;\">\n                清空当前会话内容\n              </div>\n              <div class=\"fineTune boxinput\" @click=\"exportObjArrToJson\"\n                style=\"margin-left: 0px;margin-right: 0px;width: 99%;\">\n                导出当前会话内容\n              </div>\n              <div class=\"fineTune boxinput\" @click=\"importFromJsonArr\"\n                style=\"margin-left: 0px;margin-right: 0px;width: 99%;\">\n                导入当前会话内容\n                <input type=\"file\" ref=\"onupdateJosnArr\" @change=\"handleFileUpload\" style=\"display: none;\">\n              </div>\n              <div class=\"fineTune boxinput\" @click=\"exportObjArrAllToJson\"\n                style=\"margin-left: 0px;margin-right: 0px;width: 99%;\">\n                导出会话列表\n              </div>\n              <div class=\"fineTune boxinput\" @click=\"importFromJsonArrAll\"\n                style=\"margin-left: 0px;margin-right: 0px;width: 99%;\">\n                导入会话列表\n                <input type=\"file\" ref=\"onupdateJosnArrAll\" @change=\"handleFileUploadAll\" style=\"display: none;\">\n              </div>\n              <div class=\"fineTune boxinput\" @click=\"clearAllContext\"\n                style=\"margin-left: 0px;margin-right: 0px;width: 99%;\">\n                清除会话列表\n              </div>\n            </div>\n          </el-collapse-transition>\n\n          <!--识图-->\n          <el-collapse-transition>\n            <div v-show=\"SettingStatus == 6\">\n\n            </div>\n          </el-collapse-transition>\n\n          <!--界面设置-->\n          <el-collapse-transition>\n            <div v-show=\"SettingStatus == 7\">\n              <!-- <div class=\"block\">\n                <el-tooltip class=\"item\" effect=\"dark\" content=\"将图片的url路径填入此处即可设置聊天背景。\" placement=\"top\">\n                  <span class=\"demonstration\">聊天背景</span>\n                </el-tooltip>\n                <input class=\"inputs\" v-model=\"SettingInfo.contentImageUrl\" placeholder=\"设置聊天界面的背景URL\"\n                  style=\"margin-top: 10px; width: 100%; margin-left: 0px;margin-right: 0px;\" />\n              </div> -->\n\n            </div>\n          </el-collapse-transition>\n        </div>\n      </div>\n    </div>\n    <!-- <el-col :span=\"4\"><div class=\"grid-content bg-purple\"></div></el-col> -->\n  </div>\n</template>\n\n<script>\nimport PersonCard from \"@/components/PersonCard.vue\";\nimport Session from \"@/components/Session.vue\";\nimport File from \"@/components/File.vue\";\nimport ChatWindow from \"./chatwindow.vue\";\nimport { AI_HEAD_IMG_URL } from '@/store/mutation-types'\nimport { getModels, getMoneyInfo, getFineTunesList, getFilesList, uploadFile, createFineTune, cancelFineTune, deleteFineTuneModel,retrieveFineTune,deleteFile,retrieveFile,retrieveFileContent } from \"@/api/getData\";\nimport { saveAs } from 'file-saver';\nimport {  getNowTime, JCMFormatDate,JCMFormatTimestamp } from \"@/util/util\";\nconst { Configuration, OpenAIApi } = require(\"openai\");\nexport default {\n  name: \"App\",\n  components: {\n    PersonCard,\n    ChatWindow,\n    Session,\n    File\n  },\n  data() {\n    return {\n      fileSearch:\"\",\n      sessionSearch:\"\",\n      showFineSetting: false,\n      cancelFineStatus: true,\n      storeStatus: 0,\n      //宽度\n      defaulWidth: 70,\n      //0是聊天设置，1是图片设置\n      SettingStatus: 0,\n      //0是模型列表，1是会话列表\n      cutSetting: 1,\n      //余额信息\n      moneryInfo: {\n        totalGranted: 0,\n        totalUsed: 0,\n        totalAvailable: 0\n      },\n\n      batch_sizeStr: \"\",\n      //全部的设置参数\n      SettingInfo: {\n        readefile:false,\n        inputStatus:true,\n        translateEnglish: false,\n        openProductionPicture: false,\n        openChangePicture: false,\n        KeyMsg: process.env.VUE_APP_OPENAI_API_KEY,\n        MaxTokens: 1000,\n        Temperature: 1,\n        TemperatureAudio: 0,\n        TopP: 1,\n        FrequencyPenalty: 0,\n        PresencePenalty: 0,\n        n: 1,\n        size: \"256x256\",\n        language: \"zh\",\n        contentImageUrl: \"\",\n        fineTunes: {\n          training_file: \"\",\n          validation_file: \"\",\n          batch_size: \"\",\n          model: \"curie\",\n          n_epochs: 4,\n          prompt_loss_weight: 0.01,\n          compute_classification_metrics: false,\n          suffix: \"\"\n        }\n      },\n      //当前点击的文件\n      fiCurrent: \"\",\n      //当前点击的模型\n      pcCurrent: \"\",\n      //当前点击的会话\n      sessionCurrent: \"\",\n      //当前点击的微调模型\n      ftCurrent: \"\",\n      //微调搜索数据\n      fineTuningSearch: \"\",\n      //模型搜索数据\n      modelSearch: \"\",\n      //文件列表\n      fileList: [],\n      //文件缓存列表\n      fineTuningSearch:[],\n      //微调模型列表\n      fineTuningList: [],\n      //微调模型缓存列表\n      fineTuningCacheList: [],\n      //模型列表\n      personList: [],\n      //会话列表\n      sessionList: [],\n      //模型列表缓存\n      personListCache: [],\n      //是否显示聊天窗口\n      showChatWindow: true,\n      //当前窗口的对话模型信息\n      chatWindowInfo: {},\n      //图片大小参数列表\n      imgSizes: [{\n        value: '256x256'\n      }, {\n        value: '512x512'\n      }, {\n        value: '1024x1024'\n      }],\n      //语音定义的参数\n      languages: [{\n        value: 'zh'\n      }, {\n        value: 'en'\n      }, {\n        value: 'fr'\n      }, {\n        value: 'de'\n      }, {\n        value: 'ja'\n      }],\n      // 是否隐藏模型列表和功能设置选择列表\n      showPersonList: true,\n      showSetupList: true,\n    };\n  },\n  created() {\n    window.addEventListener('resize', this.handleResize)\n    this.handleResize()\n  },\n\n  destoryed() {\n    window.removeEventListener('resize', this.handleResize)\n  },\n  mounted() {\n    this.chatWindowInfo = {\n      img: \"\",\n      name: \"ChatGPT-3.5\",\n      detail: \"chatgpt v3.5 所基于的模型\",\n      lastMsg: \"chatgpt v3.5 所基于的模型\",\n      id: \"gpt-3.5-turbo\",\n      headImg: AI_HEAD_IMG_URL,\n      showHeadImg: true\n    }\n    if (this.SettingInfo.KeyMsg) {\n      this.getModelList(this.SettingInfo.KeyMsg);\n    }\n    // 在Vue实例中添加监听函数\n    this.$watch('SettingInfo.KeyMsg', this.watchKeyMsg);\n    this.$watch('SettingInfo.contentImageUrl', this.watchContentImageUrl);\n    this.$watch('modelSearch', this.watchModelSearch);\n    this.$watch('fineTuningSearch', this.watchFineTuningSearch);\n    this.$watch('fileSearch', this.watchFileSearch);\n  },\n  filters: {\n    //截取数据到小数点后几位\n    numFilterReserved(value,digit) {\n      return parseFloat(value).toFixed(digit)\n    }\n  },\n  watch: {\n    SettingInfo: {\n      handler: function (newVal, oldVal) {\n        if (newVal.openChangePicture) {\n          this.SettingInfo.openProductionPicture = false\n        }\n        if (newVal.openProductionPicture) {\n          this.SettingInfo.openChangePicture = false\n        }\n        if (newVal.fineTunes.batch_size) {\n          this.SettingInfo.fineTunes.batch_size = parseInt(newVal.fineTunes.batch_size)\n        }\n        if (newVal.fineTunes.learning_rate_multiplier) {\n          this.SettingInfo.fineTunes.learning_rate_multiplier = parseInt(newVal.fineTunes.learning_rate_multiplier)\n        }\n        if (newVal.fineTunes.classification_n_classes) {\n          this.SettingInfo.fineTunes.classification_n_classes = parseInt(newVal.fineTunes.classification_n_classes)\n        }\n        if (newVal.fineTunes.classification_positive_class) {\n          this.SettingInfo.fineTunes.classification_positive_class = parseInt(newVal.fineTunes.classification_positive_class)\n        }\n        if (newVal.fineTunes.classification_betas) {\n          this.SettingInfo.fineTunes.classification_betas = newVal.fineTunes.classification_betas.split(\",\").map(str=>parseInt(str))\n        }\n      },\n      deep: true\n    }\n  },\n  methods: {\n    // 监听contentImageUrl属性的变化\n    watchContentImageUrl: function (newVal, oldVal) {\n      if (newVal) {\n        this.$refs.chatWindow.updateContentImageUrl(newVal)\n      } else {\n        this.$refs.chatWindow.updateContentImageUrl(\"https://bpic.51yuansu.com/backgd/cover/00/31/39/5bc8088deeedd.jpg?x-oss-process=image/resize,w_780\")\n      }\n    },\n    //监听fineTuningSearch属性的变化\n    watchFineTuningSearch:function (newVal, oldVal) {\n      if (this.fineTuningList.length !== 0) {\n        if(!this.cancelFineStatus){\n          this.fineTuningList = this.fineTuningCacheList.filter(fineTunin=>fineTunin.fineTunesStatus===\"succeeded\").filter(fineTuning => fineTuning.id.includes(newVal))\n        }else{\n          this.fineTuningList = this.fineTuningCacheList.filter(fineTuning => fineTuning.id.includes(newVal))\n        }\n      }\n      if (newVal == \"\") {\n        if(!this.cancelFineStatus){\n          this.fineTuningList = this.fineTuningCacheList.filter(fineTunin=>fineTunin.fineTunesStatus===\"succeeded\")\n        }else{\n          this.fineTuningList = this.fineTuningCacheList\n        }\n      }\n    },\n    //监听fileSearch属性的变化\n    watchFileSearch:function(newVal, oldVal) {\n      if (this.fileList.length !== 0) {\n        this.fileList = this.fileCacheList.filter(fileList => fileList.id.includes(newVal))\n      }\n      if (newVal == \"\") {\n        this.fileList = this.fileCacheList\n      }\n    },\n    // 监听modelSearch属性的变化\n    watchModelSearch: function (newVal, oldVal) {\n      if (this.personList.length !== 0) {\n        this.personList = this.personListCache.filter(person => person.id.includes(newVal))\n      }\n      if (newVal == \"\") {\n        this.personList = this.personListCache\n      }\n    },\n    // 监听KeyMsg属性的变化\n    watchKeyMsg: function (newVal, oldVal) {\n      //获取模型列表\n      getModels(newVal).then((res) => {\n        //保存OpenAI key到session中\n        this.personList = res;\n        this.personListCache = res;\n        //获取余额信息\n        getMoneyInfo(newVal).then((res) => {\n          this.moneryInfo.totalGranted = res.total_granted;\n          this.moneryInfo.totalUsed = res.total_used;\n          this.moneryInfo.totalAvailable = res.total_available;\n        });\n      }).catch(e => {\n        this.$message({\n          message: \"获取模型列表失败哦~\",\n          type: \"error\",\n        });\n      })\n    },\n     //显示或者隐藏取消过的微调模型\n    showOrHidenCancelFine(status){\n      this.cancelFineStatus = status \n      if(this.cancelFineStatus==true){\n        this.fineTuningList = this.fineTuningCacheList\n      }else{\n        this.fineTuningList=this.fineTuningCacheList.filter(fineTunin=>fineTunin.fineTunesStatus===\"succeeded\")\n      }\n    },\n  \n    //导入会话列表触发的方法\n    importFromJsonArrAll() {\n      this.$refs.onupdateJosnArrAll.click(); // 触发选择文件的弹框\n    },\n    handleFileUploadAll(event) {\n      const file = event.target.files[0];\n      const reader = new FileReader();\n\n      reader.onload = () => {\n        const fileContent = reader.result; // 文件内容\n        const parsed = JSON.parse(fileContent); // 转换为数组\n        this.sessionList = parsed\n      };\n      reader.readAsText(file);\n    },\n    //导入当前内容json触发的方法\n    importFromJsonArr() {\n      this.$refs.onupdateJosnArr.click(); // 触发选择文件的弹框\n    },\n    handleFileUpload(event) {\n      const file = event.target.files[0];\n      const reader = new FileReader();\n\n      reader.onload = () => {\n        const fileContent = reader.result; // 文件内容\n        const parsed = JSON.parse(fileContent); // 转换为数组\n        this.$refs.chatWindow.assignmentMesList(parsed)\n      };\n      reader.readAsText(file);\n    },\n    //导出所有会话到json文件\n    exportObjArrAllToJson() {\n      let jsonString = JSON.stringify(this.sessionList); // 将数组转为JSON字符串\n      let blob = new Blob([jsonString], { type: \"application/json;charset=utf-8\" });\n      saveAs(blob, \"data.json\");\n    },\n    //导出当前会话到json文件\n    exportObjArrToJson() {\n      const mesList = this.$refs.chatWindow.getMesList()\n      let jsonString = JSON.stringify(mesList); // 将数组转为JSON字符串\n      let blob = new Blob([jsonString], { type: \"application/json;charset=utf-8\" });\n      saveAs(blob, \"data.json\");\n    },\n    //清除所有的会话内容\n    clearAllContext() {\n      this.sessionList = []\n    },\n    //清除当前会话内容\n    clearCurrentContext() {\n      this.$refs.chatWindow.clearMsgList()\n    },\n    // 点击切换显示状态\n    toggleLeft() {\n      console.log(\"left clicked\")\n      this.showPersonList = !this.showPersonList;\n    },\n    toggleRight() {\n      console.log(\"right clicked\")\n      this.showSetupList = !this.showSetupList;\n    },\n    //获取模型列表\n    getModelList(key) {\n      getModels(key).then((modelsRes) => {\n        // 提取fineTunesRes集合中所有id属性值\n        getFineTunesList(key).then((fineTunesRes) => {\n          const fineTunesIds = fineTunesRes.map(item => item.id);\n          const models = modelsRes.filter(item => !fineTunesIds.includes(item.id));\n          this.personList = models;\n          this.personListCache = models;\n        })\n        this.updateMoneyInfo()\n      }).catch(e => {\n        this.$message({\n          message: \"获取模型列表失败哦~\",\n          type: \"error\",\n        });\n      })\n    },\n    //获取微调模型列表\n    getFineTunessList(key) {\n      getFineTunesList(key).then((res) => {\n        this.fineTuningList = res\n        this.fineTuningCacheList = res\n      }).catch(e => {\n        this.$message({\n          message: \"获取微调列表失败哦~\",\n          type: \"error\",\n        });\n      })\n    },\n    //获取文件列表\n    getFilessList(key) {\n      getFilesList(key).then((res) => {\n        this.fileList = res\n        this.fileCacheList = res\n      }).catch(e => {\n        this.$message({\n          message: \"获取文件列表失败哦~\",\n          type: \"error\",\n        });\n      })\n    },\n    //监听窗口尺寸的变化\n    handleResize() {\n      if (window.innerWidth <= 1150) {\n        this.showPersonList = false;\n        this.showSetupList = false;\n        this.showChatWindow = true;\n        const info = {\n          img: \"\",\n          name: \"ChatGPT-3.5\",\n          detail: \"chatgpt v3.5 所基于的模型\",\n          lastMsg: \"chatgpt v3.5 所基于的模型\",\n          id: \"gpt-3.5-turbo\",\n          headImg: AI_HEAD_IMG_URL,\n          showHeadImg: true\n        }\n        this.chatWindowInfo = info;\n        this.personInfo = info;\n      } else {\n        this.showPersonList = true;\n        this.showSetupList = true;\n      };\n    },\n    // 更新当前余额\n    updateMoneyInfo() {\n      getMoneyInfo(this.SettingInfo.KeyMsg).then((res) => {\n        this.$nextTick(() => {\n          this.moneryInfo.totalGranted = res.total_granted;\n          this.moneryInfo.totalUsed = res.total_used;\n          this.moneryInfo.totalAvailable = res.total_available;\n        })\n      })\n    },\n    //创建会话\n    newSession() {\n      //获取当前会话长度\n      const currentLen = this.sessionList.length + 1\n      //定义对象\n      const obj = {\n        \"id\": currentLen,\n        \"title\": \"\",\n        \"dataList\": []\n      }\n      //先获取对话的列表\n      const msgList = this.$refs.chatWindow.getMesList();\n      if (msgList.length >= 2) {\n        if (this.sessionCurrent) {\n          this.sessionCurrent = \"\"\n          //清除当前窗口数据\n          this.$refs.chatWindow.clearMsgList();\n        } else {\n          obj.title = msgList[0].msg\n          obj.dataList = msgList;\n          let tempSessionList = this.sessionList;\n          tempSessionList.push(obj)\n\n          this.sessionList = tempSessionList.reverse();\n          this.sessionCurrent = \"\";\n          //清除当前窗口数据\n          this.$refs.chatWindow.clearMsgList();\n        }\n      } else if (msgList.length = 1) {\n        //清除当前窗口数据\n        this.$refs.chatWindow.clearMsgList();\n      }\n    },\n    //模型列表被点击\n    modelClick() {\n      this.clearCurrent()\n      this.getModelList(this.SettingInfo.KeyMsg)\n      //清除被点击的微调对象\n      this.fineTuningInfo = {};\n      this.SettingStatus = 0\n      this.cutSetting = 0\n      // this.showChatWindow = false;\n    },\n    //会话列表被点击\n    sessionClick() {\n      //清除当前点击的状态\n      this.clearCurrent()\n      this.SettingStatus = 5\n      this.cutSetting = 1\n      this.chatWindowInfo = {\n        img: \"\",\n        name: \"ChatGPT-3.5\",\n        detail: \"chatgpt v3.5 所基于的模型\",\n        lastMsg: \"chatgpt v3.5 所基于的模型\",\n        id: \"gpt-3.5-turbo\",\n        headImg: AI_HEAD_IMG_URL,\n        showHeadImg: true\n      }\n      // this.showChatWindow = true;\n    },\n    //微调模型列表被点击\n    fineTuningClick() {\n      this.clearCurrent()\n      this.SettingStatus = 3;\n      this.cutSetting = 2\n      // this.showChatWindow = false;\n      //获取微调模型列表\n      this.getFineTunessList(this.SettingInfo.KeyMsg)\n    },\n    clearCurrent(){\n      //清除当前选择的模型微调模型\n      this.ftCurrent = \"\"\n      //清除当前选择的模型\n      this.pcCurrent = \"\";\n      //清除当前选择的会话\n      this.sessionCurrent = \"\";\n      //清除当前选择的文件\n      this.fiCurrent= \"\";\n    },\n    //文件列表被点击\n    fileClick() {\n      this.clearCurrent()\n      //清除被点击的微调对象\n      this.fineTuningInfo = {};\n      this.SettingStatus = 4;\n      this.cutSetting = 3\n      //获取微调模型列表\n      this.getFilessList(this.SettingInfo.KeyMsg)\n    },\n    //上传文件按钮被点击触发的方法\n    uploadFile() {\n      this.$refs.fileInput.click();\n    },\n    //文件上传触发的方法\n    onFileChange(e) {\n      //获取文件\n      const file = e.target.files[0];\n      // 验证文件类型是否为jsonl格式\n      if (!file.name.endsWith('.jsonl')) {\n        this.$message({\n          message: \"请上传一个有效的JSONL文件~\",\n          type: \"warning\",\n        });\n        return;\n      }\n      // 通过验证后，上传文件\n      const formData = new FormData();\n      formData.append(\"file\", file);\n      formData.append(\"purpose\", \"fine-tune\");\n      uploadFile(formData, this.SettingInfo.KeyMsg).then((res) => {\n        this.$copy(res.id, \"文件已上传成功,文件ID是\" + res.id + \",已经帮您复制啦~\")\n        //更新文件列表\n        this.getFilessList(this.SettingInfo.KeyMsg)\n      })\n    },\n    //检索文件信息\n    retrieveOnFile(){\n      if (!this.fileInfo || !this.fileInfo.fileId) {\n        this.$message.error(\"只能检索文件哦~\")\n      } else {\n        retrieveFile(this.fileInfo.fileId, this.SettingInfo.KeyMsg).then((res) => {\n          let context=\"`文件ID:`\"+res.id+\"  \\n\"\n                  +\"`文件名称:`\"+res.filename+\"  \\n\"\n                  +\"`文件大小:`\"+(res.bytes/1024/1024).toFixed(2)+\"MB \\n\"\n                  +\"`对象:`\"+res.object+\"  \\n\"\n                  +\"`状态:`\"+res.status+\"  \\n\"\n                  +\"`状态描述`\"+res.status_details+\"  \\n\"\n                  +\"`目的` \"+res.purpose+\" \\n\"\n                  +\"`文件创建时间`\"+JCMFormatTimestamp(res.created_at);\n          let retrieveFineTuneMsg = {\n            headImg: AI_HEAD_IMG_URL,\n            name: res.filename,\n            time: JCMFormatDate(getNowTime()),\n            msg: context,\n            chatType: 0, \n            uid: res.id, \n          };\n          this.$refs.chatWindow.sendMsg(retrieveFineTuneMsg)\n          console.log(res)\n        }).catch(e => {\n          this.$message.error(\"文件检索失败了~\")\n        })\n      }\n    },\n    //检索文件内容\n    async retrieveOnFileContent(){\n      if (!this.fileInfo || !this.fileInfo.fileId) {\n        this.$message.error(\"只能检索文件内容哦~\")\n      } else {\n        try{\n          const configuration = new Configuration({\n            apiKey:  this.SettingInfo.KeyMsg,\n          });\n          const openai = new OpenAIApi(configuration);\n          const response = await openai.downloadFile(this.fileInfo.fileId);\n        }catch(e){\n          this.$message.error(\"OpenAI为了减少滥用，免费帐户将无法下载微调训练的文件~\")\n        }\n      }\n    },\n    //模型被点击\n    clickPerson(info) {\n      this.storeStatus = 0;\n      //传入当前聊天窗口信息\n      this.chatWindowInfo = info;\n      //设置当前被点击的对象\n      this.personInfo = info;\n      //设置当前被点击的模型id\n      this.pcCurrent = info.id;\n    },\n    //会话被点击\n    clickSession(info) {\n      this.sessionCurrent = info.id;\n      this.$refs.chatWindow.assignmentMesList(info.dataList)\n    },\n    //微调模型被点击\n    clickFineTuning(info) {\n      this.storeStatus = 1;\n      //传入当前聊天窗口信息\n      this.chatWindowInfo = info;\n      //设置当前被点击的对象\n      this.fineTuningInfo = info;\n      //设置当前选着的微调模型id\n      this.ftCurrent = info.id\n    },\n    //文件被点击\n    clickFile(info) {\n      this.chatWindowInfo = {\n        img: \"\",\n        name: info.id,\n        detail: info.detail,\n        lastMsg: info.lastMsg,\n        id: info.id\n      }\n      this.fiCurrent=info.fileId\n      this.fileInfo=info\n    },\n    //删除文件\n    deleteOnFile(){\n      if (!this.fileInfo || !this.fileInfo.fileId) {\n        this.$message.error(\"只能删除文件哦~\")\n      } else {\n        deleteFile(this.fileInfo.fileId, this.SettingInfo.KeyMsg).then((res) => {\n          this.$message.success(\"恭喜您删除成功~\")\n          this.getFilessList(this.SettingInfo.KeyMsg)\n        }).catch(e => {\n          this.$message.error(\"文件删除失败了~\")\n        })\n      }\n    },\n    //创建微调\n    createFine() {\n      createFineTune(this.SettingInfo.fineTunes, this.SettingInfo.KeyMsg).then((res) => {\n        this.$message.success(\"恭喜您微调创建成功~\")\n        this.getFineTunessList(this.SettingInfo.KeyMsg)\n      }).catch(e => {\n        this.$message.error(\"微调创建失败了...\")\n      })\n    },\n    //删除微调\n    deleteFine() {\n      if (!this.fineTuningInfo || !this.fineTuningInfo.fineTunesId) {\n        this.$message.error(\"只能删除微调中的模型哦~\")\n      } else {\n        deleteFineTuneModel(this.fineTuningInfo.name, this.SettingInfo.KeyMsg).then((res) => {\n          this.$message.success(\"恭喜您微调模型删除成功~\")\n          console.log(res)\n          this.getFineTunessList(this.SettingInfo.KeyMsg)\n        }).catch(e => {\n          this.$message.error(\"微调模型删除失败了,模型正在训练中或者中途已取消\")\n        })\n      }\n    },\n    //取消微调\n    cancelFine() {\n      if (!this.fineTuningInfo || !this.fineTuningInfo.fineTunesId || this.fineTuningInfo.fineTunesStatus === \"succeeded\") {\n        this.$message.error(\"只能取消进行训练中的微调模型哦~\")\n      } else {\n        console.log(this.fineTuningInfo.fineTunesId)\n        cancelFineTune(this.fineTuningInfo.fineTunesId, this.SettingInfo.KeyMsg).then((res) => {\n          this.$message.success(\"成功取消此模型~\")\n          this.getFineTunessList(this.SettingInfo.KeyMsg)\n        }).catch(e => {\n          console.log(e)\n          this.$message.error(\"取消微调模型失败~\")\n        })\n      }\n    },\n    //检索微调\n    retrieveFine(){\n      if (!this.fineTuningInfo || !this.fineTuningInfo.fineTunesId) {\n        this.$message.error(\"只能检索的微调模型哦~\")\n      } else {\n        console.log(this.fineTuningInfo.fineTunesId)\n        retrieveFineTune(this.fineTuningInfo.fineTunesId, this.SettingInfo.KeyMsg).then((res) => {\n          let context=\"`微调任务ID:`\"+res.id+\"  \\n\"\n                  +\"`任务类型:`\"+res.object+\"  \\n\"\n                  +\"`模型的类型:`\"+res.model+\"  \\n\"\n                  +\"`微调任务的创建时间:`\"+JCMFormatTimestamp(res.created_at)+\"  \\n\"\n                  +\"`微调的事件列表`  \\n\"\n                  +\"| 对象 | 日志级别 | 信息 | 创建时间  |\\n\"\n                  +\"| :------: | :------: | :------: | :------: |\\n\";\n          res.events.forEach(obj => {\n            context += `| ${obj.object} | ${obj.level} | ${obj.message} | ${ JCMFormatTimestamp(obj.created_at) } |\\n`;\n          });\n          context +=\"\\n `微调的模型ID:`\"+ res.fine_tuned_model \n                  +\"\\n\\n `微调使用的参数:` \\n\"\n                  +\"| 属性 | 设置的值 | \\n\"\n                  +\"| :------: | :------: | \\n\";\n          for (let prop in res.hyperparams) {\n            if (res.hyperparams.hasOwnProperty(prop)) {\n              context += `| ${prop} | ${res.hyperparams[prop]} |\\n`;\n            }\n          }\n         context+=\"\\n`用户所属组:`\"+res.organization_id;\n\n         if(res.result_files.length==0){\n            context+=\"\\n\\n`训练结果文件列表:没有`\\n\\n\"\n         }else{\n            context+=\"\\n\\n`训练结果文件列表:`\\n\\n\"\n                  +\"| ID  | 文件名称 | 文件大小 |   对象 | 状态 |    \\n\"\n                  +\"| :------: | :------: | :------: | :------: | :------: | \\n\";\n            res.result_files.forEach(obj => {\n              context += `| ${obj.id} | ${obj.filename}  | ${(obj.bytes/1024/1024).toFixed(2)+\"MB\"} | ${obj.object} | ${obj.status} |  \\n`;\n            });   \n         }\n          context+=\"\\n`状态:`\"+res.status+\"\\n\";\n\n          if(res.training_files.length==0){\n            context+=\"\\n\\n`训练的文件列表:没有`\\n\\n\"\n          }else{\n            context+=\"\\n\\n`训练的文件列表:`\\n\\n\"\n                  +\"| ID  | 文件名称 | 文件大小 |   对象 | 状态 |  \\n\"\n                  +\"| :------: | :------: | :------: | :------: | :------: | \\n\";\n            res.training_files.forEach(obj => {\n              context += `| ${obj.id} | ${obj.filename}  | ${(obj.bytes/1024/1024).toFixed(2)+\"MB\"} | ${obj.object} | ${obj.status} |  \\n`;\n            }); \n          }\n          if(res.validation_files.length==0){\n            context+=\"\\n\\n`验证的文件列表:没有`\\n\\n\"\n          }else{\n            context+=\"\\n\\n`验证的文件列表:`\\n\\n\"\n            +\"| ID  | 文件名称 | 文件大小 |   对象 | 状态 |  \\n\"\n             +\"| :------: | :------: | :------: | :------: | :------: | \\n\";\n            res.validation_files.forEach(obj => {\n              context += `| ${obj.id} | ${obj.filename}  | ${(obj.bytes/1024/1024).toFixed(2)+\"MB\"} | ${obj.object} | ${obj.status} |  \\n`;\n            }); \n          }\n          context+=\"\\n`最后更新时间戳:`\"+JCMFormatTimestamp(res.updated_at);\n         let retrieveFineTuneMsg = {\n            headImg: AI_HEAD_IMG_URL,\n            name: res.fine_tuned_model!==null?res.fine_tuned_model:res.id,\n            time: JCMFormatDate(getNowTime()),\n            msg: context,\n            chatType: 0, \n            uid: res.id, \n          };\n          this.$refs.chatWindow.sendMsg(retrieveFineTuneMsg)\n          console.log(res)\n        }).catch(e => {\n          console.log(e)\n          this.$message.error(\"检索微调模型失败~\")\n        })\n      }\n    },\n    personCardSort(id) {\n      if (id !== this.personList[0].id) {\n        console.log(id);\n        let nowPersonInfo;\n        for (let i = 0; i < this.personList.length; i++) {\n          if (this.personList[i].id == id) {\n            nowPersonInfo = this.personList[i];\n            this.personList.splice(i, 1);\n            break;\n          }\n        }\n        this.personList.unshift(nowPersonInfo);\n      }\n    },\n    fineTunesCardSort(id) {\n      if (id !== this.fineTuningList[0].id) {\n        console.log(id);\n        let nowPersonInfo;\n        for (let i = 0; i < this.fineTuningList.length; i++) {\n          if (this.fineTuningList[i].id == id) {\n            nowPersonInfo = this.fineTuningList[i];\n            this.fineTuningList.splice(i, 1);\n            break;\n          }\n        }\n        this.fineTuningList.unshift(nowPersonInfo);\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.top-left,\n.top-right {\n  position: absolute;\n  top: 5px;\n  cursor: pointer;\n}\n\n.top-left {\n  left: 5px;\n}\n\n.top-right {\n  right: 5px;\n}\n\n.boxinput {\n  height: 30px;\n  line-height: 50px;\n  color: #fff;\n  margin-top: 10px;\n  margin-left: 20px;\n  margin-right: 20px;\n  width: 90%;\n  text-align: center;\n  height: 50px;\n  background-color: rgb(66, 70, 86);\n  border-radius: 15px;\n  border: 1px solid rgb(80, 85, 103);\n  position: relative;\n  cursor: pointer;\n}\n\n.icon {\n  margin-right: 10px;\n  vertical-align: middle;\n}\n\n.send {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  background-color: rgb(66, 70, 86);\n  border: 0;\n  transition: 0.3s;\n  box-shadow: 0px 0px 5px 0px rgb(84, 89, 110);\n\n  &:hover {\n    box-shadow: 0px 0px 10px 0px rgb(91, 219, 239);\n  }\n}\n\n.weitiao {\n  margin-top: 10px;\n  width: 100%;\n  margin-left: 0px;\n  margin-right: 0px;\n  height: 50px;\n  background-color: rgb(66, 70, 86);\n  border-radius: 15px;\n  border: 2px solid rgb(34, 135, 225);\n  padding: 10px;\n  box-sizing: border-box;\n  transition: 0.2s;\n  font-size: 20px;\n  color: #fff;\n  font-weight: 100;\n\n  &:focus {\n    outline: none;\n  }\n}\n\n.fineTune {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  background-color: rgb(66, 70, 86);\n  border: 0;\n  transition: 0.3s;\n  box-shadow: 0px 0px 5px 0px rgb(84, 89, 110);\n\n  &:hover {\n    box-shadow: 0px 0px 10px 0px rgb(29, 144, 245);\n  }\n}\n\n.inputs {\n  width: 65%;\n  height: 50px;\n  background-color: rgb(66, 70, 86);\n  border-radius: 15px;\n  border: 2px solid rgb(34, 135, 225);\n  padding: 10px;\n  box-sizing: border-box;\n  transition: 0.2s;\n  font-size: 20px;\n  color: #fff;\n  font-weight: 100;\n  margin: 0 20px;\n\n  &:focus {\n    outline: none;\n  }\n}\n\n.whiteText {\n  color: #fff;\n}\n\n::v-deep .el-input__inner {\n  background-color: transparent;\n  color: #409EFF;\n}\n\n.setting {\n  margin-left: 0px;\n  padding-left: 10px;\n  color: rgb(176, 178, 189);\n}\n\n.setting.active {\n  color: #fff; // 选中后的颜色\n}\n\n.setting:hover {\n  cursor: pointer;\n}\n\n#jianbian {\n  background-color: rgb(39, 42, 55);\n  border-color: #409EFF;\n  color: #fff;\n  border-width: 0px;\n}\n\n.astrict {\n  width: 90%;\n}\n\n.settingButton {\n  width: 99%;\n}\n\n.block {\n  margin-top: 5%;\n\n  .demonstration {\n    color: aliceblue;\n    text-align: center;\n  }\n}\n\n.inputs {\n  width: 90%;\n  height: 50px;\n  background-color: rgb(66, 70, 86);\n  border-radius: 15px;\n  border: 2px solid rgb(34, 135, 225);\n  padding: 10px;\n  box-sizing: border-box;\n  transition: 0.2s;\n  font-size: 20px;\n  color: #fff;\n  font-weight: 100;\n  margin: 0 20px;\n\n  &:focus {\n    outline: none;\n  }\n}\n\n.chatHome {\n  // margin-top: 20px;\n  display: flex;\n\n  .chatLeft {\n    width: 280px;\n\n    .title {\n      color: #fff;\n      padding-left: 10px;\n    }\n\n    .online-person {\n      margin-top: 10%;\n\n      .onlin-text {\n        margin-left: 20%;\n        padding-left: 10px;\n        color: rgb(176, 178, 189);\n      }\n\n      .s-wrapper {\n        padding-left: 10px;\n        height: 70vh;\n        margin-top: 10px;\n        overflow: hidden;\n        overflow-y: scroll;\n        box-sizing: border-box;\n\n        &::-webkit-scrollbar {\n          width: 0;\n          /* Safari,Chrome 隐藏滚动条 */\n          height: 0;\n          /* Safari,Chrome 隐藏滚动条 */\n          display: none;\n          /* 移动端、pad 上Safari，Chrome，隐藏滚动条 */\n        }\n      }\n    }\n  }\n\n  .chatRight {\n    flex: 1;\n    padding-right: 30px;\n\n    .showIcon {\n      position: absolute;\n      top: calc(50% - 150px);\n      /*垂直居中 */\n      left: calc(50% - 50px);\n\n      /*水平居中 */\n      .icon-snapchat {\n        width: 300px;\n        height: 300px;\n        font-size: 300px;\n        // color: rgb(28, 30, 44);\n      }\n    }\n  }\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}